package stest.tron.wallet.depositWithdraw;

import io.grpc.ManagedChannel;
import io.grpc.ManagedChannelBuilder;
import java.util.List;
import java.util.Optional;
import java.util.concurrent.TimeUnit;
import lombok.extern.slf4j.Slf4j;
import org.junit.Assert;
import org.spongycastle.util.encoders.Hex;
import org.testng.annotations.AfterClass;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.BeforeSuite;
import org.testng.annotations.Test;
import org.tron.api.GrpcAPI.TransactionExtention;
import org.tron.api.WalletGrpc;
import org.tron.api.WalletSolidityGrpc;
import org.tron.common.crypto.ECKey;
import org.tron.common.utils.ByteArray;
import org.tron.common.utils.Utils;
import org.tron.core.Wallet;
import org.tron.protos.Protocol.TransactionInfo;
import stest.tron.wallet.common.client.Configuration;
import stest.tron.wallet.common.client.Parameter.CommonConstant;
import stest.tron.wallet.common.client.WalletClient;
import stest.tron.wallet.common.client.utils.AbiUtil;
import stest.tron.wallet.common.client.utils.Base58;
import stest.tron.wallet.common.client.utils.PublicMethed;
import stest.tron.wallet.common.client.utils.PublicMethedForDailybuild;

@Slf4j
public class DelegateCall001 {


  private final String testDepositTrx = Configuration.getByPath("testng.conf")
      .getString("foundationAccount.key2");
  private final byte[] testDepositAddress = PublicMethed.getFinalAddress(testDepositTrx);
  private Long maxFeeLimit = Configuration.getByPath("testng.conf")
      .getLong("defaultParameter.maxFeeLimit");
  private ManagedChannel channelSolidity = null;

  private ManagedChannel channelFull = null;
  private WalletGrpc.WalletBlockingStub blockingStubFull = null;

  private ManagedChannel channelFull1 = null;
  private WalletGrpc.WalletBlockingStub blockingSideStubFull = null;


  private WalletSolidityGrpc.WalletSolidityBlockingStub blockingStubSolidity = null;
  private String fullnode = Configuration.getByPath("testng.conf")
      .getStringList("mainfullnode.ip.list").get(0);
  private String fullnode1 = Configuration.getByPath("testng.conf")
      .getStringList("fullnode.ip.list").get(0);

  ECKey ecKey1 = new ECKey(Utils.getRandom());
  byte[] depositAddress = ecKey1.getAddress();
  String testKeyFordeposit = ByteArray.toHexString(ecKey1.getPrivKeyBytes());
  final String mainGateWayAddress = Configuration.getByPath("testng.conf")
      .getString("gateway_address.key1");
  final String sideGatewayAddress = Configuration.getByPath("testng.conf")
      .getString("gateway_address.key2");
  final byte[] sideChainAddressKey = WalletClient.decodeFromBase58Check(sideGatewayAddress);

  final String chainIdAddress = Configuration.getByPath("testng.conf")
      .getString("gateway_address.chainIdAddress");
  final byte[] chainIdAddressKey = WalletClient.decodeFromBase58Check(chainIdAddress);

  final String gateWatOwnerAddressKey = Configuration.getByPath("testng.conf")
      .getString("gateWatOwnerAddressKey.key2");

  private final byte[] gateWatOwnerAddress = PublicMethed.getFinalAddress(gateWatOwnerAddressKey);

  private final String testOracle = Configuration.getByPath("testng.conf")
      .getString("oralceAccountKey.key1");
  private final byte[] testOracleAddress = PublicMethed.getFinalAddress(testOracle);
  String parame1 = null;

  @BeforeSuite
  public void beforeSuite() {
    Wallet wallet = new Wallet();
    Wallet.setAddressPreFixByte(CommonConstant.ADD_PRE_FIX_BYTE_MAINNET);
  }

  /**
   * constructor.
   */

  @BeforeClass(enabled = true)
  public void beforeClass() {
    PublicMethed.printAddress(testKeyFordeposit);
    channelFull = ManagedChannelBuilder.forTarget(fullnode)
        .usePlaintext(true)
        .build();
    blockingStubFull = WalletGrpc.newBlockingStub(channelFull);
    channelFull1 = ManagedChannelBuilder.forTarget(fullnode1)
        .usePlaintext(true)
        .build();
    blockingSideStubFull = WalletGrpc.newBlockingStub(channelFull1);
  }

  @Test(enabled = true, description = "DelegateCall in sideChain")
  public void test1DelegateCall001() {

    parame1 = "10";
    byte[] input1 = Hex.decode(AbiUtil.parseMethod("setWithdrawMinTrx(uint256)", parame1, false));
    String ownerTrx = PublicMethed
        .triggerContractSideChain(sideChainAddressKey,
            WalletClient.decodeFromBase58Check(chainIdAddress), 0l, input1,
            1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingSideStubFull);
    logger.info("ownerTrx : " + ownerTrx);
    Optional<TransactionInfo> infoById2 = PublicMethed
        .getTransactionInfoById(ownerTrx, blockingSideStubFull);
    PublicMethed.waitProduceNextBlock(blockingStubFull);
    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
    Assert.assertEquals(0, infoById2.get().getResultValue());

    TransactionExtention transactionExtention = PublicMethedForDailybuild
        .triggerConstantContractForExtention(sideChainAddressKey,
            "withdrawMinTrx()", "", false,
            0, 0, "0", 0, gateWatOwnerAddress, gateWatOwnerAddressKey, blockingSideStubFull);

    Assert.assertEquals(10,
        ByteArray.toInt(transactionExtention.getConstantResult(0).toByteArray()));

    // deploy testMainContract
    String contractName = "testSideContract";
    String code = "6080604052600480546001600160a01b031990811662010000179091556005805490911662010001179055600160068190556007819055600881905560006009819055600a556017553480156200005557600080fd5b50d380156200006357600080fd5b50d280156200007157600080fd5b50600280546001600160a01b031916331790556170cc80620000946000396000f3fe608060405260043610620003c25760003560e01c806375b4d78c11620001f3578063bedb86fb116200010f578063df5dd1a511620000a3578063e941fa781162000079578063e941fa78146200102f578063ef42438f1462001063578063f2fde38b14620010a4578063f4072de614620010e557620003c2565b8063df5dd1a51462000f6c578063e63307661462000fad578063e6b7ad2e1462000fee57620003c2565b8063d7499ce011620000e5578063d7499ce01462000e68578063d85d2d341462000ea9578063db13a12b1462000eea578063dd012a151462000f2b57620003c2565b8063bedb86fb1462000db2578063c13299841462000df3578063c26d62f21462000e3457620003c2565b80639cd4adac1162000187578063aa56976b116200015d578063aa56976b1462000cae578063addd50991462000cef578063b6ac642a1462000d30578063bc3d4d161462000d7157620003c2565b80639cd4adac1462000c3d578063a2a3abe61462000c54578063a8d435021462000c9757620003c2565b80638372537d11620001c95780638372537d1462000b605780638456cb591462000ba15780638da5cb5b1462000bd55780639c1fcc4c1462000c0957620003c2565b806375b4d78c1462000a9a5780637dc793751462000ace578063831a292e1462000b0f57620003c2565b8063473c3bd711620002e357806359504dbc1162000277578063641657cb116200024d578063641657cb14620009a357806367b4e31b14620009e457806367bf59031462000a25578063725ef90f1462000a5957620003c2565b806359504dbc14620008fa5780635ce692f2146200092e5780635d37f3e6146200096257620003c2565b80634d715a8111620002b95780634d715a8114620008575780635174169e146200089857806352e67e4214620008cc57806354137e4914620008e357620003c2565b8063473c3bd714620007bb5780634a6bdd6a14620007fc5780634c0923f8146200080657620003c2565b80631e016e30116200035b578063314bb5e21162000331578063314bb5e214620006d157806335ba4ebb14620007055780633691a93114620007395780633f8d0549146200077a57620003c2565b80631e016e30146200060c5780632633de5f146200064d57806330e86ecf146200069d57620003c2565b80630e321a42116200039d5780630e321a42146200050657806314a39ded14620005475780631540aa8914620005885780631a09cdeb14620005cb57620003c2565b806302ec2e73146200043657806307da68f514620004795780630a61c59f14620004c5575b600c5460ff1615620003f15760405162461bcd60e51b8152600401620003e89062004e28565b60405180910390fd5b600c54610100900460ff16156200041c5760405162461bcd60e51b8152600401620003e89062004e3a565b60405162461bcd60e51b8152600401620003e89062004ea6565b3480156200044357600080fd5b50d380156200045157600080fd5b50d280156200045f57600080fd5b50620004776200047136600462004189565b62001126565b005b3480156200048657600080fd5b50d380156200049457600080fd5b50d28015620004a257600080fd5b50620004ad62001158565b604051620004bc919062004d96565b60405180910390f35b348015620004d257600080fd5b50d38015620004e057600080fd5b50d28015620004ee57600080fd5b50620004776200050036600462003e68565b62001166565b3480156200051357600080fd5b50d380156200052157600080fd5b50d280156200052f57600080fd5b50620004ad6200054136600462004189565b620011de565b3480156200055457600080fd5b50d380156200056257600080fd5b50d280156200057057600080fd5b50620004ad6200058236600462004189565b620011f3565b3480156200059557600080fd5b50d38015620005a357600080fd5b50d28015620005b157600080fd5b50620005bc6200120b565b604051620004bc919062004f7e565b348015620005d857600080fd5b50d38015620005e657600080fd5b50d28015620005f457600080fd5b506200047762000606366004620041aa565b62001212565b3480156200061957600080fd5b50d380156200062757600080fd5b50d280156200063557600080fd5b50620004776200064736600462003e68565b6200136b565b3480156200065a57600080fd5b50d380156200066857600080fd5b50d280156200067657600080fd5b506200068e6200068836600462004189565b6200141d565b604051620004bc919062004b96565b348015620006aa57600080fd5b50d38015620006b857600080fd5b50d28015620006c657600080fd5b50620005bc62001445565b348015620006de57600080fd5b50d38015620006ec57600080fd5b50d28015620006fa57600080fd5b50620005bc6200144b565b3480156200071257600080fd5b50d380156200072057600080fd5b50d280156200072e57600080fd5b50620005bc62001451565b3480156200074657600080fd5b50d380156200075457600080fd5b50d280156200076257600080fd5b50620004776200077436600462003e91565b62001457565b3480156200078757600080fd5b50d380156200079557600080fd5b50d28015620007a357600080fd5b5062000477620007b536600462004189565b6200151a565b348015620007c857600080fd5b50d38015620007d657600080fd5b50d28015620007e457600080fd5b506200068e620007f636600462003e68565b6200154c565b620005bc62001567565b3480156200081357600080fd5b50d380156200082157600080fd5b50d280156200082f57600080fd5b50620008476200084136600462004189565b6200181a565b604051620004bc92919062004f8e565b3480156200086457600080fd5b50d380156200087257600080fd5b50d280156200088057600080fd5b50620004776200089236600462003f90565b62001839565b348015620008a557600080fd5b50d38015620008b357600080fd5b50d28015620008c157600080fd5b50620005bc620018f5565b620005bc620008dd36600462004129565b620018fb565b620005bc620008f4366004620041f8565b62001b79565b3480156200090757600080fd5b50d380156200091557600080fd5b50d280156200092357600080fd5b50620005bc62001f22565b3480156200093b57600080fd5b50d380156200094957600080fd5b50d280156200095757600080fd5b50620005bc62001f28565b3480156200096f57600080fd5b50d380156200097d57600080fd5b50d280156200098b57600080fd5b50620004776200099d366004620041aa565b62001f2e565b348015620009b057600080fd5b50d38015620009be57600080fd5b50d28015620009cc57600080fd5b5062000477620009de36600462004168565b620020da565b348015620009f157600080fd5b50d38015620009ff57600080fd5b50d2801562000a0d57600080fd5b506200047762000a1f366004620041aa565b62002121565b34801562000a3257600080fd5b50d3801562000a4057600080fd5b50d2801562000a4e57600080fd5b506200068e6200226c565b34801562000a6657600080fd5b50d3801562000a7457600080fd5b50d2801562000a8257600080fd5b506200047762000a9436600462003ffa565b6200227b565b34801562000aa757600080fd5b50d3801562000ab557600080fd5b50d2801562000ac357600080fd5b50620005bc62002334565b34801562000adb57600080fd5b50d3801562000ae957600080fd5b50d2801562000af757600080fd5b506200047762000b0936600462003e68565b6200233a565b34801562000b1c57600080fd5b50d3801562000b2a57600080fd5b50d2801562000b3857600080fd5b5062000b5062000b4a36600462004189565b620023cd565b604051620004bc92919062004d6d565b34801562000b6d57600080fd5b50d3801562000b7b57600080fd5b50d2801562000b8957600080fd5b506200047762000b9b36600462003f90565b62002526565b34801562000bae57600080fd5b50d3801562000bbc57600080fd5b50d2801562000bca57600080fd5b50620004ad620025e2565b34801562000be257600080fd5b50d3801562000bf057600080fd5b50d2801562000bfe57600080fd5b506200068e620025eb565b34801562000c1657600080fd5b50d3801562000c2457600080fd5b50d2801562000c3257600080fd5b506200068e620025fa565b6200047762000c4e36600462004189565b62002609565b34801562000c6157600080fd5b50d3801562000c6f57600080fd5b50d2801562000c7d57600080fd5b5062000c8862002a73565b604051620004bc919062004d5a565b620005bc62000ca836600462004129565b62002ad7565b34801562000cbb57600080fd5b50d3801562000cc957600080fd5b50d2801562000cd757600080fd5b506200084762000ce936600462003e68565b62002d17565b34801562000cfc57600080fd5b50d3801562000d0a57600080fd5b50d2801562000d1857600080fd5b50620004ad62000d2a36600462003e68565b62002d36565b34801562000d3d57600080fd5b50d3801562000d4b57600080fd5b50d2801562000d5957600080fd5b506200047762000d6b36600462004189565b62002d4b565b34801562000d7e57600080fd5b50d3801562000d8c57600080fd5b50d2801562000d9a57600080fd5b506200047762000dac36600462004189565b62002d7d565b34801562000dbf57600080fd5b50d3801562000dcd57600080fd5b50d2801562000ddb57600080fd5b506200047762000ded36600462004168565b62002daf565b34801562000e0057600080fd5b50d3801562000e0e57600080fd5b50d2801562000e1c57600080fd5b506200047762000e2e36600462004189565b62002def565b34801562000e4157600080fd5b50d3801562000e4f57600080fd5b50d2801562000e5d57600080fd5b50620005bc62002e21565b34801562000e7557600080fd5b50d3801562000e8357600080fd5b50d2801562000e9157600080fd5b506200047762000ea3366004620041aa565b62002e27565b34801562000eb657600080fd5b50d3801562000ec457600080fd5b50d2801562000ed257600080fd5b506200084762000ee436600462004189565b62002f72565b34801562000ef757600080fd5b50d3801562000f0557600080fd5b50d2801562000f1357600080fd5b506200068e62000f2536600462003e68565b62002f91565b34801562000f3857600080fd5b50d3801562000f4657600080fd5b50d2801562000f5457600080fd5b506200047762000f6636600462004189565b62002fac565b34801562000f7957600080fd5b50d3801562000f8757600080fd5b50d2801562000f9557600080fd5b506200047762000fa736600462003e68565b62002fee565b34801562000fba57600080fd5b50d3801562000fc857600080fd5b50d2801562000fd657600080fd5b506200047762000fe836600462003f3c565b62003084565b34801562000ffb57600080fd5b50d380156200100957600080fd5b50d280156200101757600080fd5b50620004ad6200102936600462004189565b6200310a565b3480156200103c57600080fd5b50d380156200104a57600080fd5b50d280156200105857600080fd5b50620005bc62003125565b3480156200107057600080fd5b50d380156200107e57600080fd5b50d280156200108c57600080fd5b50620004776200109e36600462004077565b6200312b565b348015620010b157600080fd5b50d38015620010bf57600080fd5b50d28015620010cd57600080fd5b5062000477620010df36600462003e68565b620031de565b348015620010f257600080fd5b50d380156200110057600080fd5b50d280156200110e57600080fd5b50620008476200112036600462004189565b62003241565b6002546001600160a01b03163314620011535760405162461bcd60e51b8152600401620003e89062004e70565b600855565b600c54610100900460ff1681565b6002546001600160a01b03163314620011935760405162461bcd60e51b8152600401620003e89062004e70565b6001600160a01b038116620011bc5760405162461bcd60e51b8152600401620003e89062004eee565b600380546001600160a01b0319166001600160a01b0392909216919091179055565b60106020526000908152604090205460ff1681565b60009081526012602052604090206004015460ff1690565b6009545b90565b600c54610100900460ff16156200123d5760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff166200126f5760405162461bcd60e51b8152600401620003e89062004e4c565b60006200127d838362003260565b9050806200128c575062001367565b6000601684815481106200129c57fe5b600091825260208083206005909202909101805460028201546003830154604051939650620012de946001600160a01b0390931693919290918a910162004b19565b604051602081830303815290604052805190602001209050600062001304868362003369565b9050801562001362578254600284015460038501546040517fe602f8e08fc6d15b2241c6261e66e1a122de12e279a8e3f1ae4dc2030846ad9a9362001359936001600160a01b039091169290918b9062004d1b565b60405180910390a15b505050505b5050565b3360009081526011602052604090205460ff166200139d5760405162461bcd60e51b8152600401620003e89062004e4c565b6000620013aa826200344f565b9050801562001367576000546040517f5c36dec2c0ed5b0dbd63872444c637e531efe754847dc745234e3a77b5383ffb91620013f4916001600160a01b0390911690859062004cbe565b60405180910390a1600080546001600160a01b0384166001600160a01b03199091161790555050565b600f81815481106200142b57fe5b6000918252602090912001546001600160a01b0316905081565b60075481565b60085481565b600f5490565b600c54610100900460ff1615620014825760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff16620014b45760405162461bcd60e51b8152600401620003e89062004e4c565b620f424086118015620014ca5750621e84808611155b620014e95760405162461bcd60e51b8152600401620003e89062004f24565b6000620014f682620034ed565b9050801562001510576200151088888888888888620035af565b5050505050505050565b6002546001600160a01b03163314620015475760405162461bcd60e51b8152600401620003e89062004e70565b600755565b600d602052600090815260409020546001600160a01b031681565b600c5460009060ff1615620015905760405162461bcd60e51b8152600401620003e89062004e28565b600c54610100900460ff1615620015bb5760405162461bcd60e51b8152600401620003e89062004e3a565b333214620015dd5760405162461bcd60e51b8152600401620003e89062004e5e565b60095460065401341015620016065760405162461bcd60e51b8152600401620003e89062004edc565b34156200161a57600954600b805490910190555b6009546040805160c0810182523381526000602082018181529282018181523494909403606083018181526080840183815260a0850184905260168054600180820180845592909652865160059091027fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b5124289810180546001600160a01b039384166001600160a01b031991821617825599517fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b512428a83018054919094169a169990991790915597517fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b512428b89015591517fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b512428c880155517fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b512428d909601805492969195939192909160ff19909116908360038111156200176d57fe5b021790555060a082015160048201805461ff0019166101008360038111156200179257fe5b0217905550506040516000925083156108fc029150839083818181858288f19350505050158015620017c8573d6000803e3d6000fd5b507f8b605c1d46a95857320754587b24cee1ff155aa8babb37ddc176c83fe9b72b783382600160168054905003604051620018069392919062004c71565b60405180910390a150506016546000190190565b6012602052600090815260409020600381015460049091015460ff1682565b600c54610100900460ff1615620018645760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff16620018965760405162461bcd60e51b8152600401620003e89062004e4c565b6001600160a01b038084166000908152600d60205260409020541680620018d15760405162461bcd60e51b8152600401620003e89062004f36565b6000620018de83620034ed565b90508015620013625762001362868386866200372a565b600a5481565b600c5460009060ff1615620019245760405162461bcd60e51b8152600401620003e89062004e28565b600c54610100900460ff16156200194f5760405162461bcd60e51b8152600401620003e89062004e3a565b336000818152600e60205260409020546001600160a01b031680620019885760405162461bcd60e51b8152600401620003e89062004df2565b600854841015620019ad5760405162461bcd60e51b8152600401620003e89062004f00565b3415620019bd57600b8054340190555b60166040518060c00160405280876001600160a01b03168152602001836001600160a01b03168152602001600081526020018681526020016002600381111562001a0357fe5b815260200160009052815460018082018085556000948552602094859020845160059094020180546001600160a01b03199081166001600160a01b0395861617825595850151818401805490971694169390931790945560408301516002830155606083015160038084019190915560808401516004840180549193909260ff1990921691849081111562001a9457fe5b021790555060a082015160048201805461ff00191661010083600381111562001ab957fe5b021790555050604051630852cd8d60e31b81526001600160a01b03851692506342966c68915062001aef90879060040162004f7e565b600060405180830381600087803b15801562001b0a57600080fd5b505af115801562001b1f573d6000803e3d6000fd5b50506016546040517f70e60276a5e6e928d9393ec199889aa3310759e9b03135fa91aa8c495e5feaae935062001b619250889185918991600019019062004cfc565b60405180910390a15050601654600019019392505050565b600c5460009060ff161562001ba25760405162461bcd60e51b8152600401620003e89062004e28565b600c54610100900460ff161562001bcd5760405162461bcd60e51b8152600401620003e89062004e3a565b33321462001bef5760405162461bcd60e51b8152600401620003e89062004e5e565b8282d3821462001c135760405162461bcd60e51b8152600401620003e89062004eb8565bd2811462001c355760405162461bcd60e51b8152600401620003e89062004de0565bd360009081526010602052604090205460ff1662001c675760405162461bcd60e51b8152600401620003e89062004eca565b600754d2101562001c8c5760405162461bcd60e51b8152600401620003e89062004e04565b60095434101562001cb15760405162461bcd60e51b8152600401620003e89062004e82565b60095434031562001cef576009546040513391340380156108fc02916000818181858888f1935050505015801562001ced573d6000803e3d6000fd5b505b341562001d0357600954600b805490910190555b6040805160c081018252338152600060208201818152d3938301938452d26060840190815260016080850181815260a086018590526016805480840180835591909652865160059096027fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b5124289810180546001600160a01b039889166001600160a01b031991821617825596517fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b512428a830180549190991697169690961790965596517fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b512428b86015591517fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b512428c85015590517fd833147d7dc355ba459fc788f669e58cfaf9dc25ddcd0702e87d69c7b512428d9093018054929392909160ff199091169083600381111562001e4d57fe5b021790555060a082015160048201805461ff00191661010083600381111562001e7257fe5b0217905550600092505050d280156108fc0290d38015801562001e9457600080fd5b50806001603f1b1115801562001ea957600080fd5b5080620f42401015801562001ebd57600080fd5b50604051600081818185878a8ad094505050505015801562001ee3573d6000803e3d6000fd5b506016546040517f233ef90f4fff74796ce2477f1070c9080c6ef0d026bf12c7e85885dee69f06f89162001b61913391d391d291600019019062004c34565b60015481565b60175481565b600c54610100900460ff161562001f595760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff1662001f8b5760405162461bcd60e51b8152600401620003e89062004e4c565b600062001f99838362003260565b90508062001fa8575062001367565b60006016848154811062001fb857fe5b6000918252602080832060059092029091018054600382015460405192955062001ff3936001600160a01b0390921692909189910162004b4b565b60408051808303601f190181528282528051602091820120600089815260138352838120818652929094019283905293506009916200203d91859160018201916002019062004da6565b6020604051602081039080840390855afa15801562002060573d6000803e3d6000fd5b50505060206040510351905060006200207a878462003369565b90508015620020d157835460038501546040517f072bf1cba078d9b0cc566f8aebf5517516d66da00b2c0d9146cd25334b119a7492620020c8926001600160a01b03909116918b9062004d4a565b60405180910390a15b50505050505050565b6002546001600160a01b03163314620021075760405162461bcd60e51b8152600401620003e89062004e70565b600c80549115156101000261ff0019909216919091179055565b600c54610100900460ff16156200214c5760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff166200217e5760405162461bcd60e51b8152600401620003e89062004e4c565b60006200218c838362003260565b9050806200219b575062001367565b600060168481548110620021ab57fe5b600091825260208083206005909202909101805460018201546003830154604051939650620021f0946001600160a01b0393841694929093169290918a910162004ac9565b604051602081830303815290604052805190602001209050600062002216868362003369565b9050801562001362578254600184015460038501546040517fa356e11167fba9db9c7e29c60fcc4da0925f1174dbc1d55b9dfa615f7a91183f9362001359936001600160a01b03918216939116918b9062004cfc565b6003546001600160a01b031681565b600c54610100900460ff1615620022a65760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff16620022d85760405162461bcd60e51b8152600401620003e89062004e4c565b6003546001600160a01b0385811691161415620023095760405162461bcd60e51b8152600401620003e89062004f5a565b60006200231682620037d3565b905080156200232d5762001362858585856200388d565b5050505050565b600b5481565b6002546001600160a01b03163314620023675760405162461bcd60e51b8152600401620003e89062004e70565b6001600160a01b03811660009081526011602052604090205460ff16620023a25760405162461bcd60e51b8152600401620003e89062004e16565b6001600160a01b03166000908152601160205260409020805460ff1916905560018054600019019055565b600081815260136020908152604080832060018101805483518186028101860190945280845260609586959294600290940193928592919084015b82821015620024b95760008481526020908190208301805460408051601f6002600019610100600187161502019094169390930492830185900485028101850190915281815292830182828015620024a45780601f106200247857610100808354040283529160200191620024a4565b820191906000526020600020905b8154815290600101906020018083116200248657829003601f168201915b50505050508152602001906001019062002408565b505050509150808054806020026020016040519081016040528092919081815260200182805480156200251657602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311620024f7575b5050505050905091509150915091565b600c54610100900460ff1615620025515760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff16620025835760405162461bcd60e51b8152600401620003e89062004e4c565b6001600160a01b038084166000908152600d60205260409020541680620025be5760405162461bcd60e51b8152600401620003e89062004f36565b6000620025cb83620034ed565b9050801562001362576200136286838686620039e9565b600c5460ff1681565b6002546001600160a01b031681565b6000546001600160a01b031681565b600c5460ff16156200262f5760405162461bcd60e51b8152600401620003e89062004e28565b600c54610100900460ff16156200265a5760405162461bcd60e51b8152600401620003e89062004e3a565b3332146200267c5760405162461bcd60e51b8152600401620003e89062004e5e565b600a54341015620026a15760405162461bcd60e51b8152600401620003e89062004f12565b600a54340315620026df57600a546040513391340380156108fc02916000818181858888f19350505050158015620026dd573d6000803e3d6000fd5b505b600a54600b8054909101905560165481106200270f5760405162461bcd60e51b8152600401620003e89062004e94565b6000601682815481106200271f57fe5b6000918252602090912060059091020190506001600482015460ff1660038111156200274757fe5b14156200281e5760008281526013602052604090206004015460ff1615620027c3578054600282015460038301546040517fe602f8e08fc6d15b2241c6261e66e1a122de12e279a8e3f1ae4dc2030846ad9a93620027b5936001600160a01b03909116929091879062004d1b565b60405180910390a162002818565b8054600282015460038301546040517f233ef90f4fff74796ce2477f1070c9080c6ef0d026bf12c7e85885dee69f06f8936200280f936001600160a01b03909116929091879062004d1b565b60405180910390a15b62001367565b6002600482015460ff1660038111156200283457fe5b1415620028f05760008281526013602052604090206004015460ff1615620028a3578054600182015460038301546040517f447a43cd233d7bec0e836b62f3b956ef1e511d76e9c9bb869bff4f2191ea962693620027b5936001600160a01b0391821693911691879062004cfc565b8054600182015460038301546040517f70e60276a5e6e928d9393ec199889aa3310759e9b03135fa91aa8c495e5feaae936200280f936001600160a01b0391821693911691879062004cfc565b6003600482015460ff1660038111156200290657fe5b1415620029c25760008281526013602052604090206004015460ff161562002975578054600182015460038301546040517fa356e11167fba9db9c7e29c60fcc4da0925f1174dbc1d55b9dfa615f7a91183f93620027b5936001600160a01b0391821693911691879062004cfc565b8054600182015460038301546040517f9eba2209f8d644d656032105b0723bfa9ec5171cf31aab76c9957bff8eb4a633936200280f936001600160a01b0391821693911691879062004cfc565b60008281526013602052604090206004015460ff161562002a2257805460038201546040517f072bf1cba078d9b0cc566f8aebf5517516d66da00b2c0d9146cd25334b119a74926200280f926001600160a01b0390911691869062004d4a565b805460038201546040517f8b605c1d46a95857320754587b24cee1ff155aa8babb37ddc176c83fe9b72b789262002a67926001600160a01b0390911691869062004d4a565b60405180910390a15050565b6060600f80548060200260200160405190810160405280929190818152602001828054801562002acd57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831162002aae575b5050505050905090565b600c5460009060ff161562002b005760405162461bcd60e51b8152600401620003e89062004e28565b600c54610100900460ff161562002b2b5760405162461bcd60e51b8152600401620003e89062004e3a565b336000818152600e60205260409020546001600160a01b03168062002b645760405162461bcd60e51b8152600401620003e89062004df2565b341562002b7457600b8054340190555b60166040518060c00160405280876001600160a01b03168152602001836001600160a01b031681526020016000815260200186815260200160038081111562002bb957fe5b815260200160009052815460018082018085556000948552602094859020845160059094020180546001600160a01b03199081166001600160a01b0395861617825595850151818401805490971694169390931790945560408301516002830155606083015160038084019190915560808401516004840180549193909260ff1990921691849081111562002c4a57fe5b021790555060a082015160048201805461ff00191661010083600381111562002c6f57fe5b021790555050604051630852cd8d60e31b81526001600160a01b03851692506342966c68915062002ca590879060040162004f7e565b600060405180830381600087803b15801562002cc057600080fd5b505af115801562002cd5573d6000803e3d6000fd5b50506016546040517f9eba2209f8d644d656032105b0723bfa9ec5171cf31aab76c9957bff8eb4a633935062001b619250889185918991600019019062004cfc565b6015602052600090815260409020600381015460049091015460ff1682565b60116020526000908152604090205460ff1681565b6002546001600160a01b0316331462002d785760405162461bcd60e51b8152600401620003e89062004e70565b600955565b6002546001600160a01b0316331462002daa5760405162461bcd60e51b8152600401620003e89062004e70565b600a55565b6002546001600160a01b0316331462002ddc5760405162461bcd60e51b8152600401620003e89062004e70565b600c805460ff1916911515919091179055565b6002546001600160a01b0316331462002e1c5760405162461bcd60e51b8152600401620003e89062004e70565b600655565b60065481565b600c54610100900460ff161562002e525760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff1662002e845760405162461bcd60e51b8152600401620003e89062004e4c565b600062002e92838362003260565b90508062002ea1575062001367565b60006016848154811062002eb157fe5b60009182526020808320600590920290910180546001820154600383015460405193965062002ef6946001600160a01b0393841694929093169290918a910162004ac9565b604051602081830303815290604052805190602001209050600062002f1c868362003369565b9050801562001362578254600184015460038501546040517f447a43cd233d7bec0e836b62f3b956ef1e511d76e9c9bb869bff4f2191ea96269362001359936001600160a01b03918216939116918b9062004cfc565b6014602052600090815260409020600381015460049091015460ff1682565b600e602052600090815260409020546001600160a01b031681565b60178190556040517fef0cee5ab0ba082f9e7e2bec12702da8220ed5e3df2a40dfd209f30629dde0029062002fe390839062004f7e565b60405180910390a150565b6002546001600160a01b031633146200301b5760405162461bcd60e51b8152600401620003e89062004e70565b6001600160a01b03811660009081526011602052604090205460ff1615620030575760405162461bcd60e51b8152600401620003e89062004f48565b6001600160a01b03166000908152601160205260409020805460ff19166001908117909155805481019055565b600c54610100900460ff1615620030af5760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff16620030e15760405162461bcd60e51b8152600401620003e89062004e4c565b6000620030ee82620034ed565b9050801562003104576200310484848462003a84565b50505050565b60008181526014602052604090206004015460ff165b919050565b60095481565b600c54610100900460ff1615620031565760405162461bcd60e51b8152600401620003e89062004e3a565b3360009081526011602052604090205460ff16620031885760405162461bcd60e51b8152600401620003e89062004e4c565b6003546001600160a01b0386811691161415620031b95760405162461bcd60e51b8152600401620003e89062004f5a565b6000620031c682620037d3565b905080156200136257620020d1868686868662003b83565b6002546001600160a01b031633146200320b5760405162461bcd60e51b8152600401620003e89062004e70565b6001600160a01b0381166200321f57600080fd5b600280546001600160a01b0319166001600160a01b0392909216919091179055565b6013602052600090815260409020600381015460049091015460ff1682565b600082815260136020908152604080832033845290915281205460ff16156200328c5750600062003363565b6000838152601360208181526040808420338552808352908420805460ff1916600190811790915592825282018054928301808255908452928190208551620032dd93919091019186019062003d08565b505060008381526013602090815260408220600280820180546001808201835591865293852090930180546001600160a01b03191633179055928690526003908101805483019081905591549092029190910410801562003350575060008381526013602052604090206004015460ff16155b156200335f5750600162003363565b5060005b92915050565b60008281526013602052604081206004015460ff16156200338d5750600062003363565b6000838152601360209081526040808320815184815290920190819052600991620033c5918691600181019160029091019062004da6565b6020604051602081039080840390855afa158015620033e8573d6000803e3d6000fd5b5050506020604051035190506000620034018262003ce2565b90506003600154600202816200341357fe5b0481111562003444575050506000828152601360205260409020600401805460ff1916600190811790915562003363565b506000949350505050565b6001600160a01b03811660009081526015602090815260408083203384529182905282205460ff16156200348857600091505062003120565b336000908152602082905260409020805460ff1916600190811790915560038083018054830190559054600202048160030154118015620034ce5750600481015460ff16155b156200335f57600401805460ff19166001908117909155905062003120565b600081815260126020908152604080832033845290915281205460ff1615620035195750600062003120565b6000828152601260208181526040808420338552808352908420805460ff1916600190811790915593869052919052600390810180548301908190559154600202041080156200357b575060008281526012602052604090206004015460ff16155b15620035a757506000818152601260205260409020600401805460ff1916600190811790915562003120565b506000919050565b600086815260106020526040902054869060ff1680620035e3576000828152601060205260409020805460ff191660011790555b6005546040516001600160a01b03909116906200360d90899085908a908a908a9060200162004fad565b60408051601f1981840301815290829052620036299162004b88565b6000604051808303816000865af19150503d806000811462003668576040519150601f19603f3d011682016040523d82523d6000602084013e6200366d565b606091505b5050506001600160a01b0389166108fc8815028884801580156200369057600080fd5b50806001603f1b11158015620036a557600080fd5b5080620f424010158015620036b957600080fd5b50604051600081818185878a8ad0945050505050158015620036df573d6000803e3d6000fd5b507f4abc2f5e7912b009fa6b5f692abd5f5da841ba2c81f7b734c1b0f5ff603b77bf8983898660405162003717949392919062004c9f565b60405180910390a1505050505050505050565b6040516340c10f1960e01b81526001600160a01b038416906340c10f19906200375a908790869060040162004d2b565b600060405180830381600087803b1580156200377557600080fd5b505af11580156200378a573d6000803e3d6000fd5b505050507fc3e8d45c84c4ddcecd426c61ae7c123f45b727c357f607b64c030967a21e078284848484604051620037c5949392919062004cfc565b60405180910390a150505050565b600081815260146020908152604080832033845290915281205460ff1615620037ff5750600062003120565b6000828152601460208181526040808420338552808352908420805460ff19166001908117909155938690529190526003908101805483019081905591546002020410801562003861575060008281526014602052604090206004015460ff16155b15620035a757506000818152601460205260409020600401805460ff1916600190811790915562003120565b600080308585604051620038a19062003d8d565b620038af9392919062004ba6565b604051809103906000f080158015620038cc573d6000803e3d6000fd5b506001600160a01b038781166000908152600d602052604090205491925016156200390b5760405162461bcd60e51b8152600401620003e89062004f6c565b6001600160a01b038087166000818152600d6020908152604080832080549587166001600160a01b031996871681179091558352600e909152908190208054909316909117909155517f5a730d2f8cfe24a7b618d8f78e5b279bab65e7c34e971669d168aec0a7f4462290620039879088908490879062004cdd565b60405180910390a1600f80546001810182556000919091527f8d1108e10bcb7c27dddfc02ed9d693a074039d026cf4ea4240b40f7d581ac8020180546001600160a01b0319166001600160a01b03979097169690961790955550929392505050565b6040516340c10f1960e01b81526001600160a01b038416906340c10f199062003a19908790869060040162004d2b565b600060405180830381600087803b15801562003a3457600080fd5b505af115801562003a49573d6000803e3d6000fd5b505050507ff688f64a0db435b05bf90916e3d704b4eb942c59bc55529e58f09df8e65243c484848484604051620037c5949392919062004cfc565b6004546040516001600160a01b039091169062003aa690849060200162004f7e565b60408051601f198184030181529082905262003ac29162004b88565b6000604051808303816000865af19150503d806000811462003b01576040519150601f19603f3d011682016040523d82523d6000602084013e62003b06565b606091505b50506040516001600160a01b038516915083156108fc029084906000818181858888f1935050505015801562003b40573d6000803e3d6000fd5b507f93db373aca7b5fa97756430b1c2ccd69d67815387387feb40d87aa48cbb2571a83838360405162003b769392919062004c71565b60405180910390a1505050565b6000803086868660405162003b989062003d9b565b62003ba7949392919062004be9565b604051809103906000f08015801562003bc4573d6000803e3d6000fd5b506001600160a01b038881166000908152600d6020526040902054919250161562003c035760405162461bcd60e51b8152600401620003e89062004f6c565b6001600160a01b038088166000818152600d6020908152604080832080549587166001600160a01b031996871681179091558352600e909152908190208054909316909117909155517ff60ccfdcd368d2f04ad506885af100a8d3ab13d9becee776d6d1b09d6b21d3a59062003c7f9089908490879062004cdd565b60405180910390a1600f80546001810182556000919091527f8d1108e10bcb7c27dddfc02ed9d693a074039d026cf4ea4240b40f7d581ac8020180546001600160a01b0319166001600160a01b0398909816979097179096555093949350505050565b600080825b801562003d01576001919091019060001981011662003ce7565b5092915050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062003d4b57805160ff191683800117855562003d7b565b8280016001018555821562003d7b579182015b8281111562003d7b57825182559160200191906001019062003d5e565b5062003d8992915062003da9565b5090565b610fe2806200518e83390190565b610ef6806200617083390190565b6200120f91905b8082111562003d89576000815560010162003db0565b803562003dd38162005152565b62003dde8162005089565b9392505050565b803562003363816200516c565b8035620033638162005177565b600082601f83011262003e1157600080fd5b813562003e2862003e22826200502b565b62005003565b9150808252602083016020830185838301111562003e4557600080fd5b62003e52838284620050ce565b50505092915050565b8035620033638162005182565b60006020828403121562003e7b57600080fd5b600062003e89848462003dc6565b949350505050565b600080600080600080600060e0888a03121562003ead57600080fd5b600062003ebb8a8a62003dc6565b975050602062003ece8a828b0162003df2565b965050604062003ee18a828b0162003df2565b955050606062003ef48a828b0162003df2565b945050608062003f078a828b0162003df2565b93505060a062003f1a8a828b0162003e5b565b92505060c062003f2d8a828b0162003df2565b91505092959891949750929550565b60008060006060848603121562003f5257600080fd5b600062003f60868662003dc6565b935050602062003f738682870162003df2565b925050604062003f868682870162003df2565b9150509250925092565b6000806000806080858703121562003fa757600080fd5b600062003fb5878762003dc6565b945050602062003fc88782880162003dc6565b935050604062003fdb8782880162003df2565b925050606062003fee8782880162003df2565b91505092959194509250565b600080600080608085870312156200401157600080fd5b60006200401f878762003dc6565b945050602085013567ffffffffffffffff8111156200403d57600080fd5b6200404b8782880162003dff565b935050604085013567ffffffffffffffff8111156200406957600080fd5b62003fdb8782880162003dff565b600080600080600060a086880312156200409057600080fd5b60006200409e888862003dc6565b955050602086013567ffffffffffffffff811115620040bc57600080fd5b620040ca8882890162003dff565b945050604086013567ffffffffffffffff811115620040e857600080fd5b620040f68882890162003dff565b9350506060620041098882890162003e5b565b92505060806200411c8882890162003df2565b9150509295509295909350565b600080604083850312156200413d57600080fd5b60006200414b858562003dc6565b92505060206200415e8582860162003df2565b9150509250929050565b6000602082840312156200417b57600080fd5b600062003e89848462003de5565b6000602082840312156200419c57600080fd5b600062003e89848462003df2565b60008060408385031215620041be57600080fd5b6000620041cc858562003df2565b925050602083013567ffffffffffffffff811115620041ea57600080fd5b6200415e8582860162003dff565b600080604083850312156200420c57600080fd5b60006200414b858562003df2565b60006200422883836200425d565b505060200190565b600062003dde838362004476565b600062003dde8383620044b6565b6200425781620050ad565b82525050565b620042578162005089565b62004257620042778262005089565b62005120565b60006200428a8262005066565b62004296818562005074565b9350620042a38362005054565b8060005b83811015620042d7578151620042be88826200421a565b9750620042cb8362005054565b925050600101620042a7565b509495945050505050565b6000620042ef826200506a565b620042fb818562005074565b935062004308836200505a565b8060005b83811015620042d757620043208262005134565b6200432c88826200421a565b975062004339836200506e565b9250506001016200430c565b6000620043528262005066565b6200435e818562005074565b935083602082028501620043728562005054565b8060005b85811015620043b2578484038952815162004392858262004230565b94506200439f8362005054565b60209a909a019992505060010162004376565b5091979650505050505050565b6000620043cc826200506a565b620043d8818562005074565b935083602082028501620043ec856200505a565b8060005b85811015620043b2578484038952816200440b85826200423e565b945062004418836200506e565b60209a909a0199925050600101620043f0565b620042578162005096565b62004257816200120f565b60006200444e8262005066565b6200445a818562003120565b93506200446c818560208601620050da565b9290920192915050565b6000620044838262005066565b6200448f818562005074565b9350620044a1818560208601620050da565b620044ac8162005142565b9093019392505050565b600081546001811660008114620044d65760018114620044ff5762004544565b607f6002830416620044e9818762005074565b60ff198416815295505060208501925062004544565b600282046200450f818762005074565b95506200451c856200505a565b60005b828110156200453d578154888201526001909101906020016200451f565b8701945050505b505092915050565b60006200455b601c8362005074565b7f746f6b656e56616c756520213d206d73672e746f6b656e76616c756500000000815260200192915050565b600062004596601e8362005074565b7f6d61696e436861696e41646472657373203d3d20616464726573732830290000815260200192915050565b6000620045d160268362005074565b7f746f6b656e76616c7565206d757374206265203e3d2077697468647261774d6981526506e54726331360d41b602082015260400192915050565b60006200461b60158362005074565b745f6f7261636c65206973206e6f74206f7261636c6560581b815260200192915050565b60006200464e600d8362005074565b6c7061757365206973207472756560981b815260200192915050565b600062004679600c8362005074565b6b73746f70206973207472756560a01b815260200192915050565b6000620046a3601c8362005074565b7f6f7261636c65735b6d73672e73656e6465725d2069732066616c736500000000815260200192915050565b6000620046de60128362005074565b711b9bdd08185b1b1bddc818dbdb9d1c9858dd60721b815260200192915050565b60006200470e60138362005074565b7236b9b39739b2b73232b910109e9037bbb732b960691b815260200192915050565b60006200473f601c8362005074565b7f76616c7565206d757374206265203e3d20776974686472617746656500000000815260200192915050565b60006200477a60208362005074565b7f6e6f6e6365203e3d207573657257697468647261774c6973742e6c656e677468815260200192915050565b6000620047b5601b8362005074565b7f6e6f7420616c6c6f772066756e6374696f6e2066616c6c6261636b0000000000815260200192915050565b6000620047f060168362005074565b751d1bdad95b925908084f481b5cd9cb9d1bdad95b9a5960521b815260200192915050565b60006200482460208362005074565b7f746f6b656e49644d61705b6d73672e746f6b656e69645d203d3d2066616c7365815260200192915050565b60006200485f602b8362005074565b7f76616c7565206d757374206265203e3d2077697468647261774d696e5472782b81526a776974686472617746656560a81b602082015260400192915050565b6000620048ae601e8362005074565b7f5f73756e546f6b656e41646472657373203d3d20616464726573732830290000815260200192915050565b6000620048e960218362005074565b7f76616c7565206d757374206265203e3d2077697468647261774d696e547263328152600360fc1b602082015260400192915050565b60006200492e601b8362005074565b7f6d73672e76616c7565206e65656420203e3d2072657472794665650000000000815260200192915050565b60006200496960278362005074565b7f746f6b656e4964203c3d2031303030303030206f7220746f6b656e4964203e208152660323030303030360cc1b602082015260400192915050565b6000620049b460248362005074565b7f746865206d61696e20636861696e2061646472657373206861736e2774206d618152631c1c195960e21b602082015260400192915050565b6000620049fc60118362005074565b705f6f7261636c65206973206f7261636c6560781b815260200192915050565b600062004a2b60238362005074565b7f6d61696e436861696e41646472657373203d3d2073756e546f6b656e4164647281526265737360e81b602082015260400192915050565b600062004a7260188362005074565b7f545243323020636f6e7472616374206973206d61707065640000000000000000815260200192915050565b6200425762004aad826200120f565b6200120f565b6200425781620050c1565b6200425781620050a7565b600062004ad7828762004268565b60148201915062004ae9828662004268565b60148201915062004afb828562004a9e565b60208201915062004b0d828462004a9e565b50602001949350505050565b600062004b27828762004268565b60148201915062004b39828662004a9e565b60208201915062004afb828562004a9e565b600062004b59828662004268565b60148201915062004b6b828562004a9e565b60208201915062004b7d828462004a9e565b506020019392505050565b600062003dde828462004441565b602081016200336382846200425d565b6060810162004bb682866200424c565b818103602083015262004bca818562004476565b9050818103604083015262004be0818462004476565b95945050505050565b6080810162004bf982876200424c565b818103602083015262004c0d818662004476565b9050818103604083015262004c23818562004476565b905062004be0606083018462004abe565b6080810162004c4482876200424c565b62004c53602083018662004436565b62004c62604083018562004436565b62004be0606083018462004436565b6060810162004c8182866200424c565b62004c90602083018562004436565b62003e89604083018462004436565b6080810162004caf82876200424c565b62004c53602083018662004ab3565b6040810162004cce82856200425d565b62003dde60208301846200425d565b6060810162004ced82866200425d565b62004c9060208301856200425d565b6080810162004d0c82876200425d565b62004c5360208301866200425d565b6080810162004c4482876200425d565b6040810162004d3b82856200425d565b62003dde602083018462004436565b6060810162004c8182866200425d565b6020808252810162003dde81846200427d565b6040808252810162004d80818562004345565b9050818103602083015262003e8981846200427d565b602081016200336382846200442b565b6060810162004db6828662004436565b818103602083015262004dca8185620043bf565b9050818103604083015262004be08184620042e2565b6020808252810162003363816200454c565b60208082528101620033638162004587565b602080825281016200336381620045c2565b6020808252810162003363816200460c565b6020808252810162003363816200463f565b6020808252810162003363816200466a565b60208082528101620033638162004694565b602080825281016200336381620046cf565b602080825281016200336381620046ff565b60208082528101620033638162004730565b6020808252810162003363816200476b565b602080825281016200336381620047a6565b602080825281016200336381620047e1565b60208082528101620033638162004815565b60208082528101620033638162004850565b6020808252810162003363816200489f565b602080825281016200336381620048da565b6020808252810162003363816200491f565b6020808252810162003363816200495a565b602080825281016200336381620049a5565b602080825281016200336381620049ed565b60208082528101620033638162004a1c565b60208082528101620033638162004a63565b6020810162003363828462004436565b6040810162004f9e828562004436565b62003dde60208301846200442b565b60a0810162004fbd828862004436565b62004fcc602083018762004436565b62004fdb604083018662004436565b62004fea606083018562004436565b62004ff9608083018462004abe565b9695505050505050565b60405181810167ffffffffffffffff811182821017156200502357600080fd5b604052919050565b600067ffffffffffffffff8211156200504357600080fd5b506020601f91909101601f19160190565b60200190565b60009081526020902090565b5190565b5490565b60010190565b90815260200190565b6001600160a01b031690565b600062003363826200507d565b151590565b6001600160a81b031690565b60ff1690565b600062003363826000620033638262005089565b600062003363826200120f565b82818337506000910152565b60005b83811015620050f7578181015183820152602001620050dd565b83811115620031045750506000910152565b6000620033636200511a836200120f565b6200507d565b60006200336382600062003363826200514c565b600062003363825462005109565b601f01601f191690565b60601b90565b6200515d816200509b565b81146200516957600080fd5b50565b6200515d8162005096565b6200515d816200120f565b6200515d81620050a756fe60806040523480156200001157600080fd5b50d380156200001f57600080fd5b50d280156200002d57600080fd5b5060405162000fe238038062000fe2833981810160405260608110156200005357600080fd5b8151602083018051919392830192916401000000008111156200007557600080fd5b820160208101848111156200008957600080fd5b8151640100000000811182820187101715620000a457600080fd5b50509291906020018051640100000000811115620000c157600080fd5b82016020810184811115620000d557600080fd5b8151640100000000811182820187101715620000f057600080fd5b5050600480546001600160a01b0319166001600160a01b038816179055845190935062000127925060059150602085019062000147565b5080516200013d90600690602084019062000147565b50505050620001ec565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200018a57805160ff1916838001178555620001ba565b82800160010185558215620001ba579182015b82811115620001ba5782518255916020019190600101906200019d565b50620001c8929150620001cc565b5090565b620001e991905b80821115620001c85760008155600101620001d3565b90565b610de680620001fc6000396000f3fe6080604052600436106100dd5760003560e01c80636352211e1161007f57806395d89b411161005957806395d89b411461041e578063a22cb4651461044d578063a9059cbb146104a2578063e985e9c5146104f5576100dd565b80636352211e1461035e57806370a08231146103a2578063835fc6ca14610401576100dd565b8063116191b6116100bb578063116191b61461023b57806323b872dd1461026a57806340c10f19146102c757806342966c681461031a576100dd565b806306fdde03146100e2578063081812fc14610186578063095ea7b3146101e6575b600080fd5b3480156100ee57600080fd5b50d380156100fb57600080fd5b50d2801561010857600080fd5b5061011161055e565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561014b578181015183820152602001610133565b50505050905090810190601f1680156101785780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561019257600080fd5b50d3801561019f57600080fd5b50d280156101ac57600080fd5b506101ca600480360360208110156101c357600080fd5b50356105ec565b604080516001600160a01b039092168252519081900360200190f35b3480156101f257600080fd5b50d380156101ff57600080fd5b50d2801561020c57600080fd5b506102396004803603604081101561022357600080fd5b506001600160a01b03813516906020013561061c565b005b34801561024757600080fd5b50d3801561025457600080fd5b50d2801561026157600080fd5b506101ca6106c9565b34801561027657600080fd5b50d3801561028357600080fd5b50d2801561029057600080fd5b50610239600480360360608110156102a757600080fd5b506001600160a01b038135811691602081013590911690604001356106d8565b3480156102d357600080fd5b50d380156102e057600080fd5b50d280156102ed57600080fd5b506102396004803603604081101561030457600080fd5b506001600160a01b0381351690602001356106fb565b34801561032657600080fd5b50d3801561033357600080fd5b50d2801561034057600080fd5b506102396004803603602081101561035757600080fd5b50356107c3565b34801561036a57600080fd5b50d3801561037757600080fd5b50d2801561038457600080fd5b506101ca6004803603602081101561039b57600080fd5b50356107d0565b3480156103ae57600080fd5b50d380156103bb57600080fd5b50d280156103c857600080fd5b506103ef600480360360208110156103df57600080fd5b50356001600160a01b03166107f8565b60408051918252519081900360200190f35b6103ef6004803603602081101561041757600080fd5b5035610829565b34801561042a57600080fd5b50d3801561043757600080fd5b50d2801561044457600080fd5b506101116109cb565b34801561045957600080fd5b50d3801561046657600080fd5b50d2801561047357600080fd5b506102396004803603604081101561048a57600080fd5b506001600160a01b0381351690602001351515610a26565b3480156104ae57600080fd5b50d380156104bb57600080fd5b50d280156104c857600080fd5b50610239600480360360408110156104df57600080fd5b506001600160a01b038135169060200135610aaa565b34801561050157600080fd5b50d3801561050e57600080fd5b50d2801561051b57600080fd5b5061054a6004803603604081101561053257600080fd5b506001600160a01b0381358116916020013516610ab9565b604080519115158252519081900360200190f35b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156105e45780601f106105b9576101008083540402835291602001916105e4565b820191906000526020600020905b8154815290600101906020018083116105c757829003601f168201915b505050505081565b60006105f782610ae7565b61060057600080fd5b506000908152600160205260409020546001600160a01b031690565b6000610627826107d0565b9050806001600160a01b0316836001600160a01b0316141561064857600080fd5b336001600160a01b038216148061066457506106648133610ab9565b61066d57600080fd5b60008281526001602052604080822080546001600160a01b0319166001600160a01b0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b6004546001600160a01b031681565b6106e23382610b04565b6106eb57600080fd5b6106f6838383610b63565b505050565b6004546001600160a01b0316331461071257600080fd5b6001600160a01b03821661072557600080fd5b61072e81610ae7565b1561073857600080fd5b60008181526020818152604080832080546001600160a01b0319166001600160a01b03871690811790915583526002909152902054610778906001610c6f565b6001600160a01b0383166000818152600260205260408082209390935591518392907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b6107cd3382610c7f565b50565b6000818152602081905260408120546001600160a01b0316806107f257600080fd5b92915050565b60006001600160a01b03821661080d57600080fd5b506001600160a01b031660009081526002602052604090205490565b6004805460408051631540aa8960e01b8152905160009384936001600160a01b031692631540aa899281830192602092829003018186803b15801561086d57600080fd5b505afa158015610881573d6000803e3d6000fd5b505050506040513d602081101561089757600080fd5b50519050348111156108f0576040805162461bcd60e51b815260206004820152601c60248201527f76616c7565206d757374206265203e3d20776974686472617746656500000000604482015290519081900360640190fd5b348190031561092a5760405133903483900380156108fc02916000818181858888f19350505050158015610928573d6000803e3d6000fd5b505b600454610940906001600160a01b031684610aaa565b600480546040805163546a1a8160e11b8152339381019390935260248301869052516001600160a01b039091169163a8d4350291849160448082019260209290919082900301818588803b15801561099757600080fd5b505af11580156109ab573d6000803e3d6000fd5b50505050506040513d60208110156109c257600080fd5b50519392505050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156105e45780601f106105b9576101008083540402835291602001916105e4565b6001600160a01b038216331415610a3c57600080fd5b3360008181526003602090815260408083206001600160a01b03871680855290835292819020805460ff1916861515908117909155815190815290519293927f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31929181900390910190a35050565b610ab5338383610b63565b5050565b6001600160a01b03918216600090815260036020908152604080832093909416825291909152205460ff1690565b6000908152602081905260409020546001600160a01b0316151590565b600080610b10836107d0565b9050806001600160a01b0316846001600160a01b03161480610b4b5750836001600160a01b0316610b40846105ec565b6001600160a01b0316145b80610b5b5750610b5b8185610ab9565b949350505050565b826001600160a01b0316610b76826107d0565b6001600160a01b031614610b8957600080fd5b6001600160a01b038216610b9c57600080fd5b610ba581610d3d565b6001600160a01b038316600090815260026020526040902054610bcf90600163ffffffff610d7816565b6001600160a01b038085166000908152600260205260408082209390935590841681522054610c0590600163ffffffff610c6f16565b6001600160a01b0380841660008181526002602090815260408083209590955585825281905283812080546001600160a01b031916831790559251849391928716917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b818101828110156107f257600080fd5b816001600160a01b0316610c92826107d0565b6001600160a01b031614610ca557600080fd5b610cae81610d3d565b6001600160a01b038216600090815260026020526040902054610cd890600163ffffffff610d7816565b6001600160a01b03831660008181526002602090815260408083209490945584825281905282812080546001600160a01b03191690559151839291907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908390a45050565b6000818152600160205260409020546001600160a01b0316156107cd57600090815260016020526040902080546001600160a01b0319169055565b600082821115610d8757600080fd5b5090039056fea26474726f6e5820249b119ebbd078d8e5497e2c45b6c5a9e67ac38dc200fc22372a3c387f5fad4f64736f6c637827302e352e392d646576656c6f702e323031392e382e32312b636f6d6d69742e3139303564373266005660806040523480156200001157600080fd5b50d380156200001f57600080fd5b50d280156200002d57600080fd5b5060405162000ef638038062000ef6833981810160405260808110156200005357600080fd5b8151602083018051919392830192916401000000008111156200007557600080fd5b820160208101848111156200008957600080fd5b8151640100000000811182820187101715620000a457600080fd5b50509291906020018051640100000000811115620000c157600080fd5b82016020810184811115620000d557600080fd5b8151640100000000811182820187101715620000f057600080fd5b5050602091820151600380546001600160a01b0319166001600160a01b038916179055855191945092506200012c916004919086019062000165565b5081516200014290600590602085019062000165565b506006805460ff191660ff9290921691909117905550506000600255506200020a565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620001a857805160ff1916838001178555620001d8565b82800160010185558215620001d8579182015b82811115620001d8578251825591602001919060010190620001bb565b50620001e6929150620001ea565b5090565b6200020791905b80821115620001e65760008155600101620001f1565b90565b610cdc806200021a6000396000f3fe6080604052600436106100e85760003560e01c806340c10f191161008a57806395d89b411161005957806395d89b411461047c578063a457c2d7146104ab578063a9059cbb146104fe578063dd62ed3e14610551576100e8565b806340c10f191461037957806342966c68146103ce57806370a0823114610412578063835fc6ca1461045f576100e8565b806318160ddd116100c657806318160ddd1461024357806323b872dd14610284578063313ce567146102e15780633950935114610326576100e8565b806306fdde03146100ed578063095ea7b314610191578063116191b6146101f8575b600080fd5b3480156100f957600080fd5b50d3801561010657600080fd5b50d2801561011357600080fd5b5061011c6105a6565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561015657818101518382015260200161013e565b50505050905090810190601f1680156101835780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561019d57600080fd5b50d380156101aa57600080fd5b50d280156101b757600080fd5b506101e4600480360360408110156101ce57600080fd5b506001600160a01b038135169060200135610634565b604080519115158252519081900360200190f35b34801561020457600080fd5b50d3801561021157600080fd5b50d2801561021e57600080fd5b5061022761064a565b604080516001600160a01b039092168252519081900360200190f35b34801561024f57600080fd5b50d3801561025c57600080fd5b50d2801561026957600080fd5b50610272610659565b60408051918252519081900360200190f35b34801561029057600080fd5b50d3801561029d57600080fd5b50d280156102aa57600080fd5b506101e4600480360360608110156102c157600080fd5b506001600160a01b0381358116916020810135909116906040013561065f565b3480156102ed57600080fd5b50d380156102fa57600080fd5b50d2801561030757600080fd5b506103106106b6565b6040805160ff9092168252519081900360200190f35b34801561033257600080fd5b50d3801561033f57600080fd5b50d2801561034c57600080fd5b506101e46004803603604081101561036357600080fd5b506001600160a01b0381351690602001356106bf565b34801561038557600080fd5b50d3801561039257600080fd5b50d2801561039f57600080fd5b506103cc600480360360408110156103b657600080fd5b506001600160a01b0381351690602001356106fb565b005b3480156103da57600080fd5b50d380156103e757600080fd5b50d280156103f457600080fd5b506103cc6004803603602081101561040b57600080fd5b50356107ba565b34801561041e57600080fd5b50d3801561042b57600080fd5b50d2801561043857600080fd5b506102726004803603602081101561044f57600080fd5b50356001600160a01b03166107c7565b6102726004803603602081101561047557600080fd5b50356107e2565b34801561048857600080fd5b50d3801561049557600080fd5b50d280156104a257600080fd5b5061011c61098f565b3480156104b757600080fd5b50d380156104c457600080fd5b50d280156104d157600080fd5b506101e4600480360360408110156104e857600080fd5b506001600160a01b0381351690602001356109ea565b34801561050a57600080fd5b50d3801561051757600080fd5b50d2801561052457600080fd5b506101e46004803603604081101561053b57600080fd5b506001600160a01b038135169060200135610a26565b34801561055d57600080fd5b50d3801561056a57600080fd5b50d2801561057757600080fd5b506102726004803603604081101561058e57600080fd5b506001600160a01b0381358116916020013516610a33565b6004805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561062c5780601f106106015761010080835404028352916020019161062c565b820191906000526020600020905b81548152906001019060200180831161060f57829003601f168201915b505050505081565b6000610641338484610a5e565b50600192915050565b6003546001600160a01b031681565b60025490565b600061066c848484610ae6565b6001600160a01b0384166000908152600160209081526040808320338085529252909120546106ac9186916106a7908663ffffffff610bb116565b610a5e565b5060019392505050565b60065460ff1681565b3360008181526001602090815260408083206001600160a01b038716845290915281205490916106419185906106a7908663ffffffff610bc616565b6003546001600160a01b0316331461071257600080fd5b6001600160a01b03821661072557600080fd5b600254610738908263ffffffff610bc616565b6002556001600160a01b038216600090815260208190526040902054610764908263ffffffff610bc616565b6001600160a01b0383166000818152602081815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6107c43382610bdc565b50565b6001600160a01b031660009081526020819052604090205490565b600080600360009054906101000a90046001600160a01b03166001600160a01b0316631540aa896040518163ffffffff1660e01b815260040160206040518083038186803b15801561083357600080fd5b505afa158015610847573d6000803e3d6000fd5b505050506040513d602081101561085d57600080fd5b50519050348111156108b6576040805162461bcd60e51b815260206004820152601c60248201527f76616c7565206d757374206265203e3d20776974686472617746656500000000604482015290519081900360640190fd5b34819003156108f05760405133903483900380156108fc02916000818181858888f193505050501580156108ee573d6000803e3d6000fd5b505b600354610906906001600160a01b031684610a26565b50600354604080516329733f2160e11b81523360048201526024810186905290516001600160a01b03909216916352e67e42918491604480830192602092919082900301818588803b15801561095b57600080fd5b505af115801561096f573d6000803e3d6000fd5b50505050506040513d602081101561098657600080fd5b50519392505050565b6005805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561062c5780601f106106015761010080835404028352916020019161062c565b3360008181526001602090815260408083206001600160a01b038716845290915281205490916106419185906106a7908663ffffffff610bb116565b6000610641338484610ae6565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b6001600160a01b038216610a7157600080fd5b6001600160a01b038316610a8457600080fd5b6001600160a01b03808416600081815260016020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038216610af957600080fd5b6001600160a01b038316600090815260208190526040902054610b22908263ffffffff610bb116565b6001600160a01b038085166000908152602081905260408082209390935590841681522054610b57908263ffffffff610bc616565b6001600160a01b038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b600082821115610bc057600080fd5b50900390565b81810182811015610bd657600080fd5b92915050565b6001600160a01b038216610bef57600080fd5b600254610c02908263ffffffff610bb116565b6002556001600160a01b038216600090815260208190526040902054610c2e908263ffffffff610bb116565b6001600160a01b038316600081815260208181526040808320949094558351858152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a3505056fea26474726f6e5820aafee9f8bc3a86872c661e1e70f3ed8105ef0eecf3ce31eea2ede8065344314364736f6c637827302e352e392d646576656c6f702e323031392e382e32312b636f6d6d69742e31393035643732660056a36474726f6e5820bf1bab66862ec203ce9daddb424ec1547df8863a73c3d6bd08aee9ba150603576c6578706572696d656e74616cf564736f6c637827302e352e392d646576656c6f702e323031392e382e32312b636f6d6d69742e31393035643732660064\n";
    String abi = "[{\"constant\":false,\"inputs\":[{\"name\":\"minValue\",\"type\":\"uint256\"}],\"name\":\"setWithdrawMinTrc20\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"stop\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_sunTokenAddress\",\"type\":\"address\"}],\"name\":\"setSunTokenAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tokenIdMap\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"depositDone\",\"outputs\":[{\"name\":\"r\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getWithdrawFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSign\",\"type\":\"bytes\"}],\"name\":\"multiSignForWithdrawTRC10\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_logicAddress\",\"type\":\"address\"}],\"name\":\"changeLogicAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"mainContractList\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawMinTrc10\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawMinTrc20\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"mainContractCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"name\",\"type\":\"bytes32\"},{\"name\":\"symbol\",\"type\":\"bytes32\"},{\"name\":\"decimals\",\"type\":\"uint8\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDepositTRC10\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"minValue\",\"type\":\"uint256\"}],\"name\":\"setWithdrawMinTrc10\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"mainToSideContractMap\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdrawTRX\",\"outputs\":[{\"name\":\"r\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"depositSigns\",\"outputs\":[{\"name\":\"signCnt\",\"type\":\"uint256\"},{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"name\":\"uId\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDepositTRC721\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"retryFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"onTRC20Received\",\"outputs\":[{\"name\":\"r\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"tokenId\",\"type\":\"uint256\"},{\"name\":\"tokenValue\",\"type\":\"uint256\"}],\"name\":\"withdrawTRC10\",\"outputs\":[{\"name\":\"r\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"oracleCnt\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"it\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSign\",\"type\":\"bytes\"}],\"name\":\"multiSignForWithdrawTRX\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"isStop\",\"type\":\"bool\"}],\"name\":\"setStop\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSign\",\"type\":\"bytes\"}],\"name\":\"multiSignForWithdrawTRC721\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"sunTokenAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"symbol\",\"type\":\"string\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDeployDAppTRC721AndMapping\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"bonus\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_oracle\",\"type\":\"address\"}],\"name\":\"delOracle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"getWithdrawSigns\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes[]\"},{\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDepositTRC20\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"pause\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"logicAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"retryWithdraw\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getMainContractList\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"uId\",\"type\":\"uint256\"}],\"name\":\"onTRC721Received\",\"outputs\":[{\"name\":\"r\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"changeLogicSigns\",\"outputs\":[{\"name\":\"signCnt\",\"type\":\"uint256\"},{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"oracles\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"setWithdrawFee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"setRetryFee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"isPause\",\"type\":\"bool\"}],\"name\":\"setPause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"minValue\",\"type\":\"uint256\"}],\"name\":\"setWithdrawMinTrx\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawMinTrx\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSign\",\"type\":\"bytes\"}],\"name\":\"multiSignForWithdrawTRC20\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"mappingSigns\",\"outputs\":[{\"name\":\"signCnt\",\"type\":\"uint256\"},{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"sideToMainContractMap\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"setIt\",\"type\":\"uint256\"}],\"name\":\"setIt\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_oracle\",\"type\":\"address\"}],\"name\":\"addOracle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDepositTRX\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"mappingDone\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"symbol\",\"type\":\"string\"},{\"name\":\"decimals\",\"type\":\"uint8\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"multiSignForDeployDAppTRC20AndMapping\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"withdrawSigns\",\"outputs\":[{\"name\":\"signCnt\",\"type\":\"uint256\"},{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"sideChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DeployDAppTRC20AndMapping\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"sideChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DeployDAppTRC721AndMapping\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DepositTRC10\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"sideChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DepositTRC20\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"sideChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"uId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DepositTRC721\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"DepositTRX\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"WithdrawTRC10\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"WithdrawTRC20\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"uId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"WithdrawTRC721\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"WithdrawTRX\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"MultiSignForWithdrawTRC10\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"MultiSignForWithdrawTRC20\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"mainChainAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"uId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"MultiSignForWithdrawTRC721\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"MultiSignForWithdrawTRX\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"}],\"name\":\"LogicAddressChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"it\",\"type\":\"uint256\"}],\"name\":\"ea\",\"type\":\"event\"}]\n";

    byte[] contractAddress = PublicMethed.deployContractForSide(contractName, abi, code, "",
        maxFeeLimit, 0L, 0, 10000,
        "0", 0, null, gateWatOwnerAddressKey,
        gateWatOwnerAddress, chainIdAddressKey, blockingSideStubFull);

    String parameN = "\"" + Base58.encode58Check(testOracleAddress) + "\"";

    byte[] inputN = Hex.decode(AbiUtil.parseMethod("oracles(address)", parameN, false));
    TransactionExtention return2 = PublicMethed
        .triggerContractForTransactionExtention(
            sideChainAddressKey, 0l, inputN, 1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingSideStubFull);
    int oracleIndexResult = ByteArray.toInt(return2.getConstantResult(0).toByteArray());
    Assert.assertTrue(oracleIndexResult == 1);

    parame1 = "\"" + Base58.encode58Check(contractAddress) + "\"";

    input1 = Hex.decode(AbiUtil.parseMethod("changeLogicAddress(address)", parame1, false));
    ownerTrx = PublicMethed
        .triggerContractSideChain(sideChainAddressKey,
            WalletClient.decodeFromBase58Check(chainIdAddress), 0l, input1,
            1000000000,
            0l, "0", testOracleAddress, testOracle, blockingSideStubFull);
    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
    PublicMethed.waitProduceNextBlock(blockingSideStubFull);

    input1 = Hex.decode(AbiUtil.parseMethod("logicAddress()", "", false));
    TransactionExtention return1 = PublicMethed
        .triggerContractForTransactionExtention(
            sideChainAddressKey, 0l, input1, 1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingSideStubFull);

    String ContractRestule = Hex.toHexString(return1.getConstantResult(0).toByteArray());

    String tmpAddress = ContractRestule.substring(24);
    logger.info(tmpAddress);
    String addressHex = "41" + tmpAddress;
    logger.info("address_hex: " + addressHex);
    String addressFinal = Base58.encode58Check(ByteArray.fromHexString(addressHex));
    logger.info("address_final: " + addressFinal);

    byte[] sideContractAddress = WalletClient.decodeFromBase58Check(addressFinal);
    Assert.assertNotNull(sideContractAddress);
    Assert.assertEquals(Base58.encode58Check(contractAddress), addressFinal);

    transactionExtention = PublicMethedForDailybuild
        .triggerConstantContractForExtention(sideChainAddressKey,
            "withdrawMinTrx()", "", false,
            0, 0, "0", 0, gateWatOwnerAddress, gateWatOwnerAddressKey, blockingSideStubFull);

    Assert.assertEquals(10,
        ByteArray.toInt(transactionExtention.getConstantResult(0).toByteArray()));

    String methodStr3 = "setIt(uint256)";
    String parame3 = "3";
    byte[] input3 = Hex.decode(AbiUtil.parseMethod(methodStr3, parame3, false));

    String txid2 = PublicMethed
        .triggerContractSideChain(sideChainAddressKey,
            WalletClient.decodeFromBase58Check(chainIdAddress), 0l, input3,
            1000000000,
            0l, "0", testOracleAddress, testOracle, blockingSideStubFull);
    logger.info("ownerTrx : " + txid2);
    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
    PublicMethed.waitProduceNextBlock(blockingSideStubFull);

    Optional<TransactionInfo> infoById3 = PublicMethed
        .getTransactionInfoById(txid2, blockingSideStubFull);
    Assert.assertEquals(0, infoById3.get().getResultValue());

    List<String> retList = PublicMethedForDailybuild
        .getStrings(infoById3.get().getLogList().get(0).getData().toByteArray());
    Long actualSalt = ByteArray.toLong(ByteArray.fromHexString(retList.get(0)));
    Assert.assertTrue(Long.valueOf(parame3) == actualSalt);

    return2 = PublicMethed
        .triggerContractForTransactionExtention(sideChainAddressKey, 0l, inputN, 1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingSideStubFull);
    int oracleIndexResultAfter = ByteArray.toInt(return2.getConstantResult(0).toByteArray());
    Assert.assertTrue(oracleIndexResult == oracleIndexResultAfter);


  }


  /**
   * constructor.
   */
  @AfterClass
  public void shutdown() throws InterruptedException {

    parame1 = "0";
    byte[] input1 = Hex.decode(AbiUtil.parseMethod("setWithdrawMinTrx(uint256)", parame1, false));
    PublicMethed
        .triggerContractSideChain(sideChainAddressKey,
            WalletClient.decodeFromBase58Check(chainIdAddress), 0l, input1,
            1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingSideStubFull);
    if (channelFull != null) {
      channelFull.shutdown().awaitTermination(5, TimeUnit.SECONDS);
    }
    if (channelFull1 != null) {
      channelFull1.shutdown().awaitTermination(5, TimeUnit.SECONDS);
    }
  }

}
