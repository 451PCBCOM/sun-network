package stest.tron.wallet.depositWithdraw;

import io.grpc.ManagedChannel;
import io.grpc.ManagedChannelBuilder;
import java.util.List;
import java.util.Optional;
import java.util.concurrent.TimeUnit;
import lombok.extern.slf4j.Slf4j;
import org.junit.Assert;
import org.spongycastle.util.encoders.Hex;
import org.testng.annotations.AfterClass;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.BeforeSuite;
import org.testng.annotations.Test;
import org.tron.api.GrpcAPI.TransactionExtention;
import org.tron.api.WalletGrpc;
import org.tron.api.WalletSolidityGrpc;
import org.tron.common.crypto.ECKey;
import org.tron.common.utils.ByteArray;
import org.tron.common.utils.Utils;
import org.tron.core.Wallet;
import org.tron.protos.Protocol.TransactionInfo;
import stest.tron.wallet.common.client.Configuration;
import stest.tron.wallet.common.client.Parameter.CommonConstant;
import stest.tron.wallet.common.client.WalletClient;
import stest.tron.wallet.common.client.utils.AbiUtil;
import stest.tron.wallet.common.client.utils.Base58;
import stest.tron.wallet.common.client.utils.PublicMethed;
import stest.tron.wallet.common.client.utils.PublicMethedForDailybuild;

@Slf4j
public class DelegateCallMain001 {


  private final String testDepositTrx = Configuration.getByPath("testng.conf")
      .getString("foundationAccount.key2");
  private final byte[] testDepositAddress = PublicMethed.getFinalAddress(testDepositTrx);
  private Long maxFeeLimit = Configuration.getByPath("testng.conf")
      .getLong("defaultParameter.maxFeeLimit");
  private ManagedChannel channelSolidity = null;

  private ManagedChannel channelFull = null;
  private WalletGrpc.WalletBlockingStub blockingStubFull = null;

  private ManagedChannel channelFull1 = null;
  private WalletGrpc.WalletBlockingStub blockingSideStubFull = null;


  private WalletSolidityGrpc.WalletSolidityBlockingStub blockingStubSolidity = null;
  private String fullnode = Configuration.getByPath("testng.conf")
      .getStringList("mainfullnode.ip.list").get(0);
  private String fullnode1 = Configuration.getByPath("testng.conf")
      .getStringList("fullnode.ip.list").get(0);

  ECKey ecKey1 = new ECKey(Utils.getRandom());
  byte[] depositAddress = ecKey1.getAddress();
  String testKeyFordeposit = ByteArray.toHexString(ecKey1.getPrivKeyBytes());
  final String mainGateWayAddress = Configuration.getByPath("testng.conf")
      .getString("gateway_address.key1");
  final String sideGatewayAddress = Configuration.getByPath("testng.conf")
      .getString("gateway_address.key2");
  final byte[] sideChainAddressKey = WalletClient.decodeFromBase58Check(sideGatewayAddress);

  final String chainIdAddress = Configuration.getByPath("testng.conf")
      .getString("gateway_address.chainIdAddress");
  final byte[] chainIdAddressKey = WalletClient.decodeFromBase58Check(chainIdAddress);

  final String gateWatOwnerAddressKey = Configuration.getByPath("testng.conf")
      .getString("gateWatOwnerAddressKey.key1");

  private final byte[] gateWatOwnerAddress = PublicMethed.getFinalAddress(gateWatOwnerAddressKey);

  private final String testOracle = Configuration.getByPath("testng.conf")
      .getString("oralceAccountKey.key1");
  private final byte[] testOracleAddress = PublicMethed.getFinalAddress(testOracle);
  String parame1 = null;
  String methodStr1 = null;

  @BeforeSuite
  public void beforeSuite() {
    Wallet wallet = new Wallet();
    Wallet.setAddressPreFixByte(CommonConstant.ADD_PRE_FIX_BYTE_MAINNET);
  }

  /**
   * constructor.
   */

  @BeforeClass(enabled = true)
  public void beforeClass() {
    PublicMethed.printAddress(testKeyFordeposit);
    channelFull = ManagedChannelBuilder.forTarget(fullnode)
        .usePlaintext(true)
        .build();
    blockingStubFull = WalletGrpc.newBlockingStub(channelFull);
    channelFull1 = ManagedChannelBuilder.forTarget(fullnode1)
        .usePlaintext(true)
        .build();
    blockingSideStubFull = WalletGrpc.newBlockingStub(channelFull1);
  }

  @Test(enabled = true, description = "DelegateCall in mainChain")
  public void test1DelegateCallMain001() {

//    Assert.assertTrue(PublicMethed
//        .sendcoin(depositAddress, 2000000000L, testDepositAddress, testDepositTrx,
//            blockingStubFull));
//    PublicMethed.waitProduceNextBlock(blockingStubFull);
//
//    Account accountMainBefore = PublicMethed.queryAccount(depositAddress, blockingStubFull);
//    long accountMainBeforeBalance = accountMainBefore.getBalance();
//    Assert.assertTrue(accountMainBeforeBalance == 2000000000L);
//    Account accountSideBefore = PublicMethed.queryAccount(depositAddress, blockingSideStubFull);
//    long accountSideBeforeBalance = accountSideBefore.getBalance();
//    ByteString address = accountSideBefore.getAddress();
//    String accountSideBeforeAddress = Base58.encode58Check(address.toByteArray());
//    logger.info("accountSideBeforeAddress:" + accountSideBeforeAddress);
//    Assert.assertEquals("3QJmnh", accountSideBeforeAddress);
//
//    logger.info("accountBeforeBalance:" + accountMainBeforeBalance);
//    logger.info("accountSideBeforeBalance:" + accountSideBeforeBalance);
//
//    logger.info("transferTokenContractAddress:" + mainGateWayAddress);
//    String methodStr = "depositTRX()";
//    byte[] input = Hex.decode(AbiUtil.parseMethod(methodStr, "", false));
//
//    long callValue = 1500000000;
//    String txid = PublicMethed
//        .triggerContract(WalletClient.decodeFromBase58Check(mainGateWayAddress),
//            callValue,
//            input,
//            maxFeeLimit, 0, "", depositAddress, testKeyFordeposit, blockingStubFull);
//    PublicMethed.waitProduceNextBlock(blockingStubFull);
//    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
//
//    Optional<TransactionInfo> infoById = PublicMethed
//        .getTransactionInfoById(txid, blockingStubFull);
//    Assert.assertTrue(infoById.get().getResultValue() == 0);
//    long fee = infoById.get().getFee();
//    logger.info("fee:" + fee);
//    Account accountMainAfter = PublicMethed.queryAccount(depositAddress, blockingStubFull);
//    long accountMainAfterBalance = accountMainAfter.getBalance();
//    logger.info("accountAfterBalance:" + accountMainAfterBalance);
//    Assert.assertEquals(accountMainAfterBalance, accountMainBeforeBalance - fee - 1500000000);
//    Account accountSideAfter = PublicMethed.queryAccount(depositAddress, blockingSideStubFull);
//    long accountSideAfterBalance = accountSideAfter.getBalance();
//    ByteString addressSideAfter = accountSideAfter.getAddress();
//    String accountSideAfterAddress = Base58.encode58Check(addressSideAfter.toByteArray());
//    logger.info("accountSideAfterAddress:" + accountSideAfterAddress);
//    Assert.assertEquals(Base58.encode58Check(depositAddress), accountSideAfterAddress);
//    Assert.assertEquals(1500000000, accountSideAfterBalance);
//
//    logger.info("sideGatewayAddress:" + sideGatewayAddress);
//    long withdrawValue = 10;
//    String txid1 = PublicMethed
//        .withdrawTrx(chainIdAddress,
//            sideGatewayAddress,
//            withdrawValue,
//            maxFeeLimit, depositAddress, testKeyFordeposit, blockingStubFull, blockingSideStubFull);
//    PublicMethed.waitProduceNextBlock(blockingStubFull);
//    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
//    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
//    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
//    PublicMethed.waitProduceNextBlock(blockingSideStubFull);
//    Optional<TransactionInfo> infoById1 = PublicMethed
//        .getTransactionInfoById(txid1, blockingSideStubFull);
//    Assert.assertTrue(infoById1.get().getResultValue() == 0);
//    long fee1 = infoById1.get().getFee();
//    logger.info("fee1:" + fee1);
//    Account accountSideAfterWithdraw = PublicMethed
//        .queryAccount(depositAddress, blockingSideStubFull);
//    long accountSideAfterWithdrawBalance = accountSideAfterWithdraw.getBalance();
//    ByteString addressAfterWithdraw = accountSideAfterWithdraw.getAddress();
//    String addressAfterWithdrawAddress = Base58
//        .encode58Check(addressAfterWithdraw.toByteArray());
//    logger.info("addressAfterWithdrawAddress:" + addressAfterWithdrawAddress);
//    Assert.assertEquals(Base58.encode58Check(depositAddress), addressAfterWithdrawAddress);
//    Assert.assertEquals(accountSideAfterBalance - fee1 - withdrawValue,
//        accountSideAfterWithdrawBalance);
//    Account accountMainAfterWithdraw = PublicMethed.queryAccount(depositAddress, blockingStubFull);
//    long accountMainAfterWithdrawBalance = accountMainAfterWithdraw.getBalance();
//    logger.info("accountAfterWithdrawBalance:" + accountMainAfterWithdrawBalance);
//    Assert.assertEquals(accountMainAfterWithdrawBalance,
//        accountMainAfterBalance + withdrawValue);
    methodStr1 = "setDepositMinTrx(uint256)";
    parame1 = "2";
    byte[] input1 = Hex.decode(AbiUtil.parseMethod(methodStr1, parame1, false));

    String txid1 = PublicMethed
        .triggerContract(WalletClient.decodeFromBase58Check(mainGateWayAddress),
            0,
            input1,
            maxFeeLimit, 0, "", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingStubFull);
    logger.info("ownerTrx : " + txid1);
    Optional<TransactionInfo> infoById2 = PublicMethed
        .getTransactionInfoById(txid1, blockingStubFull);
    PublicMethed.waitProduceNextBlock(blockingStubFull);
    PublicMethed.waitProduceNextBlock(blockingStubFull);
    Assert.assertEquals(0, infoById2.get().getResultValue());

    String methodStr2 = "depositMinTrx()";
    byte[] input2 = Hex.decode(AbiUtil.parseMethod(methodStr2, "", false));

    TransactionExtention return1 = PublicMethed
        .triggerContractForTransactionExtention(
            WalletClient.decodeFromBase58Check(mainGateWayAddress), 0l, input2, 1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingStubFull);
    Long MinTrx = ByteArray.toLong(ByteArray
        .fromHexString(Hex.toHexString(return1.getConstantResult(0).toByteArray())));
    Assert.assertEquals(MinTrx, Long.valueOf(parame1));

    // deploy testMainContract
    String contractName = "testMainContract";
    String code = "60806040526006805460ff60a01b191690556001600b819055600c819055600d8190556001600160401b03601255601355600080546001600160a01b03191633179055614d7b806100516000396000f3fe6080604052600436106102e45760003560e01c80638456cb5911610190578063bedb86fb116100dc578063dfe5924511610095578063f2fde38b1161006f578063f2fde38b14610c70578063f733929214610caa578063f821484314610cbd578063fd0ee85614610cf7576102e4565b8063dfe5924514610bc2578063e6a9650814610bfc578063e7fc18f814610c36576102e4565b8063bedb86fb14610a71578063cd9df8e114610aab578063d421c49b14610ada578063d779039b14610b14578063dd012a1514610b4e578063df5dd1a514610b88576102e4565b806395a7a4a5116101495780639c1fcc4c116101235780639c1fcc4c14610994578063a165302a146109c3578063a97e5c93146109fd578063bc3d4d1614610a37576102e4565b806395a7a4a51461091857806399b032231461094757806399f4727a14610981576102e4565b80638456cb591461080f57806385815ac11461083e578063898de999146108785780638da5cb5b146108a7578063905a0326146108d657806392cb74b214610905576102e4565b80635174169e1161024f57806367bf590311610208578063797a8ba3116101e2578063797a8ba3146107275780637dc79375146107615780637f6e08601461079b578063826be18e146107d5576102e4565b806367bf59031461068257806373d9cb49146106be57806375b4d78c146106f8576102e4565b80635174169e146105475780635ce692f2146105765780635e0082c1146105a55780635e91d4a3146105df578063641657cb1461061957806367a5279314610653576102e4565b806332caa118116102a157806332caa118146104925780634171a537146104a55780634638c548146104b8578063473c3bd7146104cb578063490ae210146105055780634b398e991461053f576102e4565b806304f063851461035957806307da68f5146103955780630a61c59f146103da5780630c73e51f1461041457806315c785e7146104345780632ce61de914610463575b600654600160b01b900460ff16156103175760405162461bcd60e51b815260040161030e90614a74565b60405180910390fd5b600654600160a81b900460ff16156103415760405162461bcd60e51b815260040161030e90614a24565b60405162461bcd60e51b815260040161030e90614ac4565b34801561036557600080fd5b50d3801561037257600080fd5b50d2801561037f57600080fd5b5061039361038e366004613aca565b610d26565b005b3480156103a157600080fd5b50d380156103ae57600080fd5b50d280156103bb57600080fd5b506103c4610e60565b6040516103d19190614917565b60405180910390f35b3480156103e657600080fd5b50d380156103f357600080fd5b50d2801561040057600080fd5b5061039361040f3660046139d9565b610e70565b610427610422366004613d08565b610ee2565b6040516103d19190614b94565b34801561044057600080fd5b50d3801561044d57600080fd5b50d2801561045a57600080fd5b50610427611284565b34801561046f57600080fd5b50d3801561047c57600080fd5b50d2801561048957600080fd5b5061042761128a565b6104276104a0366004613c68565b611290565b6104276104b3366004613bdd565b61150d565b6103936104c6366004613c9c565b6118ca565b3480156104d757600080fd5b50d380156104e457600080fd5b50d280156104f157600080fd5b506104276105003660046139d9565b611b93565b34801561051157600080fd5b50d3801561051e57600080fd5b50d2801561052b57600080fd5b5061039361053a366004613c9c565b611ba5565b610427611bd4565b34801561055357600080fd5b50d3801561056057600080fd5b50d2801561056d57600080fd5b50610427611eb4565b34801561058257600080fd5b50d3801561058f57600080fd5b50d2801561059c57600080fd5b50610427611eba565b3480156105b157600080fd5b50d380156105be57600080fd5b50d280156105cb57600080fd5b506104276105da366004613c9c565b611ec0565b3480156105eb57600080fd5b50d380156105f857600080fd5b50d2801561060557600080fd5b506103936106143660046139d9565b611f00565b34801561062557600080fd5b50d3801561063257600080fd5b50d2801561063f57600080fd5b5061039361064e366004613c0d565b611fa7565b34801561065f57600080fd5b50d3801561066c57600080fd5b50d2801561067957600080fd5b50610427612065565b34801561068e57600080fd5b50d3801561069b57600080fd5b50d280156106a857600080fd5b506106b161206b565b6040516103d19190614767565b3480156106ca57600080fd5b50d380156106d757600080fd5b50d280156106e457600080fd5b506103936106f3366004613c0d565b61207a565b34801561070457600080fd5b50d3801561071157600080fd5b50d2801561071e57600080fd5b506104276120c2565b34801561073357600080fd5b50d3801561074057600080fd5b50d2801561074d57600080fd5b506103c461075c366004613c49565b6120c8565b34801561076d57600080fd5b50d3801561077a57600080fd5b50d2801561078757600080fd5b506103936107963660046139d9565b6120ea565b3480156107a757600080fd5b50d380156107b457600080fd5b50d280156107c157600080fd5b506103936107d0366004613b6d565b6121bf565b3480156107e157600080fd5b50d380156107ee57600080fd5b50d280156107fb57600080fd5b506106b161080a366004613c9c565b612329565b34801561081b57600080fd5b50d3801561082857600080fd5b50d2801561083557600080fd5b506103c4612344565b34801561084a57600080fd5b50d3801561085757600080fd5b50d2801561086457600080fd5b50610393610873366004613b6d565b612354565b34801561088457600080fd5b50d3801561089157600080fd5b50d2801561089e57600080fd5b506104276124ca565b3480156108b357600080fd5b50d380156108c057600080fd5b50d280156108cd57600080fd5b506106b16124d0565b3480156108e257600080fd5b50d380156108ef57600080fd5b50d280156108fc57600080fd5b506104276124df565b610393610913366004613c9c565b6124e5565b34801561092457600080fd5b50d3801561093157600080fd5b50d2801561093e57600080fd5b506104276126cd565b34801561095357600080fd5b50d3801561096057600080fd5b50d2801561096d57600080fd5b5061039361097c366004613c9c565b6126d3565b61042761098f366004613c68565b612702565b3480156109a057600080fd5b50d380156109ad57600080fd5b50d280156109ba57600080fd5b506106b1612978565b3480156109cf57600080fd5b50d380156109dc57600080fd5b50d280156109e957600080fd5b506103c46109f8366004613cd8565b612987565b348015610a0957600080fd5b50d38015610a1657600080fd5b50d28015610a2357600080fd5b506103c4610a323660046139d9565b612a19565b348015610a4357600080fd5b50d38015610a5057600080fd5b50d28015610a5d57600080fd5b50610393610a6c366004613c9c565b612a36565b348015610a7d57600080fd5b50d38015610a8a57600080fd5b50d28015610a9757600080fd5b50610393610aa6366004613c0d565b612a65565b348015610ab757600080fd5b50d38015610ac457600080fd5b50d28015610ad157600080fd5b50610427612adc565b348015610ae657600080fd5b50d38015610af357600080fd5b50d28015610b0057600080fd5b50610427610b0f3660046139d9565b612ae1565b348015610b2057600080fd5b50d38015610b2d57600080fd5b50d28015610b3a57600080fd5b50610393610b49366004613c9c565b612af3565b348015610b5a57600080fd5b50d38015610b6757600080fd5b50d28015610b7457600080fd5b50610393610b83366004613c9c565b612b22565b348015610b9457600080fd5b50d38015610ba157600080fd5b50d28015610bae57600080fd5b50610393610bbd3660046139d9565b612b62565b348015610bce57600080fd5b50d38015610bdb57600080fd5b50d28015610be857600080fd5b50610393610bf7366004613a15565b612c8f565b348015610c0857600080fd5b50d38015610c1557600080fd5b50d28015610c2257600080fd5b50610393610c31366004613c9c565b612df0565b348015610c4257600080fd5b50d38015610c4f57600080fd5b50d28015610c5c57600080fd5b50610427610c6b3660046139d9565b612e1f565b348015610c7c57600080fd5b50d38015610c8957600080fd5b50d28015610c9657600080fd5b50610393610ca53660046139d9565b612e9e565b610427610cb8366004613ba3565b612ed1565b348015610cc957600080fd5b50d38015610cd657600080fd5b50d28015610ce357600080fd5b50610393610cf2366004613c9c565b61322b565b348015610d0357600080fd5b50d38015610d1057600080fd5b50d28015610d1d57600080fd5b506103c461325a565b600654600160b01b900460ff1615610d505760405162461bcd60e51b815260040161030e90614a74565b33600090815260026020526040902054610d7c5760405162461bcd60e51b815260040161030e90614a34565b60015482511115610d9f5760405162461bcd60e51b815260040161030e90614a14565b6000858585604051602001610db6939291906146c6565b6040516020818303038152906040528051906020012090506000610ddc8286868661326a565b90508015610e57576040516001600160a01b0388169087156108fc029088906000818181858888f19350505050158015610e1a573d6000803e3d6000fd5b507fee6b364f3c623639ef23c3c101adb53872193b08602d3013e6fec13e5a0a8c85878787604051610e4e93929190614858565b60405180910390a15b50505050505050565b600654600160b01b900460ff1681565b6000546001600160a01b03163314610e9a5760405162461bcd60e51b815260040161030e90614ab4565b6001600160a01b038116610ec05760405162461bcd60e51b815260040161030e90614b04565b600e80546001600160a01b0319166001600160a01b0392909216919091179055565b600654600090600160b01b900460ff1615610f0f5760405162461bcd60e51b815260040161030e90614a74565b600654600160a81b900460ff1615610f395760405162461bcd60e51b815260040161030e90614a24565b333214610f585760405162461bcd60e51b815260040161030e90614a94565b8282d36001600160401b0316826001600160401b031614610f8b5760405162461bcd60e51b815260040161030e90614ae4565bd26001600160401b0316816001600160401b031614610fbc5760405162461bcd60e51b815260040161030e906149a4565b600854341015610fde5760405162461bcd60e51b815260040161030e90614a54565b60085434031561101a576008546040513391340380156108fc02916000818181858888f19350505050158015611018573d6000803e3d6000fd5b505b600854600a80549091019055600c54d210156110485760405162461bcd60e51b815260040161030e90614b84565b601254d3111561106a5760405162461bcd60e51b815260040161030e90614a84565b601254d2111561108c5760405162461bcd60e51b815260040161030e906149e4565b60106040518060e00160405280336001600160a01b03168152602001866001600160401b03168152602001600163ffffffff16815260200160006001600160a01b03168152602001876001600160401b03168152602001600063ffffffff16815260200160008152509080600181540180825580915050906001820390600052602060002090600302016000909192909190915060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160000160146101000a8154816001600160401b0302191690836001600160401b03160217905550604082015181600001601c6101000a81548163ffffffff021916908363ffffffff16021790555060608201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060808201518160010160146101000a8154816001600160401b0302191690836001600160401b0316021790555060a082015181600101601c6101000a81548163ffffffff021916908363ffffffff16021790555060c082015181600201555050507fdd10a17c63663ef29d1afe9e1153ac117e67a4b7e2374c2fb33fa63ac2a83f1b33868660016010805490500360405161126c949392919061488e565b60405180910390a15050601054600019019392505050565b60075481565b600d5481565b600654600090600160b01b900460ff16156112bd5760405162461bcd60e51b815260040161030e90614a74565b600654600160a81b900460ff16156112e75760405162461bcd60e51b815260040161030e90614a24565b3332146113065760405162461bcd60e51b815260040161030e90614a94565b6007543410156113285760405162461bcd60e51b815260040161030e90614b74565b600754340315611364576007546040513391340380156108fc02916000818181858888f19350505050158015611362573d6000803e3d6000fd5b505b600754600a80549091019055600061137c8333613536565b600e549091506001600160a01b03808316911614156113ad5760405162461bcd60e51b815260040161030e90614b64565b6001600160a01b0381166000908152600f6020526040902054600114156113e65760405162461bcd60e51b815260040161030e90614a44565b803b806113f257600080fd5b60408051606081019091526001600160a01b038316815260119060208101600381526020016000905281546001810180845560009384526020938490208351920180546001600160a01b0319166001600160a01b0390931692909217808355938301519093829060ff60a01b1916600160a01b83600381111561147157fe5b021790555060408201518154829060ff60a81b1916600160a81b83600381111561149757fe5b02179055505050506001600160a01b0382166000908152600f6020526040908190206001905560115490517fbe993ac12b073b22e85c8ae5b8d1f863e72ac1fc7d5cc9cc97a3985a60380868916114f491859160001901906148e0565b60405180910390a150506011546000190190505b919050565b600654600090600160b01b900460ff161561153a5760405162461bcd60e51b815260040161030e90614a74565b600654600160a81b900460ff16156115645760405162461bcd60e51b815260040161030e90614a24565b3332146115835760405162461bcd60e51b815260040161030e90614a94565b6008543410156115a55760405162461bcd60e51b815260040161030e90614a54565b6008543403156115e1576008546040513391340380156108fc02916000818181858888f193505050501580156115df573d6000803e3d6000fd5b505b600854600a805490910190556001600160a01b0383166000908152600f60205260409020546001146116255760405162461bcd60e51b815260040161030e906149c4565b600d54826001600160401b031610156116505760405162461bcd60e51b815260040161030e90614994565b6040516323b872dd60e01b81526001600160a01b038416906323b872dd906116809033903090879060040161479d565b602060405180830381600087803b15801561169a57600080fd5b505af11580156116ae573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506116d29190810190613c2b565b5060106040518060e00160405280336001600160a01b03168152602001846001600160401b03168152602001600263ffffffff168152602001856001600160a01b0316815260200160006001600160401b03168152602001600063ffffffff16815260200160008152509080600181540180825580915050906001820390600052602060002090600302016000909192909190915060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160000160146101000a8154816001600160401b0302191690836001600160401b03160217905550604082015181600001601c6101000a81548163ffffffff021916908363ffffffff16021790555060608201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060808201518160010160146101000a8154816001600160401b0302191690836001600160401b0316021790555060a082015181600101601c6101000a81548163ffffffff021916908363ffffffff16021790555060c082015181600201555050507f5597031b82d6432b2a17b05edab21773aa78af79c70dbfad5848d5f4a918abc73384846001601080549050036040516118b39493929190614815565b60405180910390a150601054600019015b92915050565b600654600160b01b900460ff16156118f45760405162461bcd60e51b815260040161030e90614a74565b600654600160a81b900460ff161561191e5760405162461bcd60e51b815260040161030e90614a24565b33321461193d5760405162461bcd60e51b815260040161030e90614a94565b60095434101561195f5760405162461bcd60e51b815260040161030e90614b14565b60095434031561199b576009546040513391340380156108fc02916000818181858888f19350505050158015611999573d6000803e3d6000fd5b505b600954600a8054909101905560105481106119c85760405162461bcd60e51b815260040161030e90614b34565b6000601082815481106119d757fe5b600091825260209091206003909102018054909150600160e01b900463ffffffff16611a585780546040517f3d4b09458f33579a990d5ef0b0e21a441445352d5584b100a4ecad938cee0cff91611a4b916001600160a01b03821691600160a01b90046001600160401b03169086906148fb565b60405180910390a1611b8f565b8054600160e01b900463ffffffff1660021415611ac657805460018201546040517f5597031b82d6432b2a17b05edab21773aa78af79c70dbfad5848d5f4a918abc792611a4b926001600160a01b0380831693911691600160a01b90046001600160401b03169087906148d2565b8054600160e01b900463ffffffff1660031415611b28578054600182015460028301546040517fa5fce688ea5970750335282d77f1281ee4abb240deb7ce9f57378a87a7d3797a93611a4b936001600160a01b039182169391169187906148c4565b805460018201546040517fdd10a17c63663ef29d1afe9e1153ac117e67a4b7e2374c2fb33fa63ac2a83f1b92611b86926001600160a01b038216926001600160401b03600160a01b9283900481169392909204909116908790614909565b60405180910390a15b5050565b600f6020526000908152604090205481565b6000546001600160a01b03163314611bcf5760405162461bcd60e51b815260040161030e90614ab4565b600855565b600654600090600160b01b900460ff1615611c015760405162461bcd60e51b815260040161030e90614a74565b600654600160a81b900460ff1615611c2b5760405162461bcd60e51b815260040161030e90614a24565b333214611c4a5760405162461bcd60e51b815260040161030e90614a94565b600854341015611c6c5760405162461bcd60e51b815260040161030e90614a54565b600854600a805482019055600b54349190910390811015611c9f5760405162461bcd60e51b815260040161030e90614b44565b601254811115611cc15760405162461bcd60e51b815260040161030e90614984565b60106040518060e00160405280336001600160a01b03168152602001836001600160401b03168152602001600063ffffffff16815260200160006001600160a01b0316815260200160006001600160401b03168152602001600063ffffffff16815260200160008152509080600181540180825580915050906001820390600052602060002090600302016000909192909190915060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160000160146101000a8154816001600160401b0302191690836001600160401b03160217905550604082015181600001601c6101000a81548163ffffffff021916908363ffffffff16021790555060608201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060808201518160010160146101000a8154816001600160401b0302191690836001600160401b0316021790555060a082015181600101601c6101000a81548163ffffffff021916908363ffffffff16021790555060c082015181600201555050507f3d4b09458f33579a990d5ef0b0e21a441445352d5584b100a4ecad938cee0cff3382600160108054905003604051611ea093929190614873565b60405180910390a150506010546000190190565b60095481565b60135481565b6000308280158015611ed157600080fd5b50806001603f1b11158015611ee557600080fd5b5080620f424010158015611ef857600080fd5b50d192915050565b33600090815260026020526040902054611f2c5760405162461bcd60e51b815260040161030e90614a34565b6000611f3782613562565b90508015611b8f576006546040517f5c36dec2c0ed5b0dbd63872444c637e531efe754847dc745234e3a77b5383ffb91611f7e916001600160a01b039091169085906148a9565b60405180910390a1600680546001600160a01b0384166001600160a01b03199091161790555050565b6006546001600160a01b031615612020576006546040516001600160a01b0390911690611fd8906000903690614729565b600060405180830381855af49150503d8060008114612013576040519150601f19603f3d011682016040523d82523d6000602084013e612018565b606091505b505050612062565b6000546001600160a01b0316331461204a5760405162461bcd60e51b815260040161030e90614ab4565b6006805460ff60b01b1916600160b01b831515021790555b50565b60085481565b600e546001600160a01b031681565b6000546001600160a01b031633146120a45760405162461bcd60e51b815260040161030e90614ab4565b60068054911515600160a01b0260ff60a01b19909216919091179055565b600a5481565b6000908152600560209081526040808320938352929052206002015460ff1690565b6006546001600160a01b03161561211b576006546040516001600160a01b0390911690611fd8906000903690614729565b6000546001600160a01b031633146121455760405162461bcd60e51b815260040161030e90614ab4565b6001600160a01b03811660009081526002602052604090205461217a5760405162461bcd60e51b815260040161030e90614974565b6001600160a01b03166000818152600260208181526040808420805485526003835290842080546001600160a01b031916905593835252905560018054600019019055565b600654600160b01b900460ff16156121e95760405162461bcd60e51b815260040161030e90614a74565b336000908152600260205260409020546122155760405162461bcd60e51b815260040161030e90614a34565b600154825111156122385760405162461bcd60e51b815260040161030e906149f4565b60008686868660405160200161225194939291906146fd565b60405160208183030381529060405280519060200120905060006122778286868661326a565b9050801561231f576040516323b872dd60e01b81526001600160a01b038816906323b872dd906122af9030908c908b906004016147c5565b600060405180830381600087803b1580156122c957600080fd5b505af11580156122dd573d6000803e3d6000fd5b505050507f709667d6c56243d41cfff52bd522879fc4e6a83ec590cb83d375956e8abd20648888888860405161231694939291906148c4565b60405180910390a15b5050505050505050565b6003602052600090815260409020546001600160a01b031681565b600654600160a81b900460ff1681565b600654600160b01b900460ff161561237e5760405162461bcd60e51b815260040161030e90614a74565b336000908152600260205260409020546123aa5760405162461bcd60e51b815260040161030e90614a34565b600154825111156123cd5760405162461bcd60e51b815260040161030e906149d4565b6000868686866040516020016123e694939291906146fd565b604051602081830303815290604052805190602001209050600061240c8286868661326a565b9050801561231f5760405163a9059cbb60e01b81526001600160a01b0388169063a9059cbb90612442908b908a906004016148e0565b602060405180830381600087803b15801561245c57600080fd5b505af1158015612470573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506124949190810190613c2b565b507f737af5f07a43576924ecf3d94bf486a3af309706430ade370f26198a89164b3f8888888860405161231694939291906148c4565b60015481565b6000546001600160a01b031681565b600b5481565b600654600160b01b900460ff161561250f5760405162461bcd60e51b815260040161030e90614a74565b600654600160a81b900460ff16156125395760405162461bcd60e51b815260040161030e90614a24565b3332146125585760405162461bcd60e51b815260040161030e90614a94565b60095434101561257a5760405162461bcd60e51b815260040161030e90614b14565b6009543403156125b6576009546040513391340380156108fc02916000818181858888f193505050501580156125b4573d6000803e3d6000fd5b505b600954600a8054909101905560115481106125e35760405162461bcd60e51b815260040161030e90614b54565b6000601182815481106125f257fe5b6000918252602082200191508154600160a81b900460ff16600381111561261557fe5b146126325760405162461bcd60e51b815260040161030e90614b24565b60028154600160a01b900460ff16600381111561264b57fe5b141561268f5780546040517fc2757e945b24f03d1ce902d589f8c9e9ed42064f1713ecd7286d9f004e86c6cd91611a4b916001600160a01b039091169085906148e0565b80546040517fbe993ac12b073b22e85c8ae5b8d1f863e72ac1fc7d5cc9cc97a3985a6038086891611b86916001600160a01b039091169085906148e0565b600c5481565b6000546001600160a01b031633146126fd5760405162461bcd60e51b815260040161030e90614ab4565b600755565b600654600090600160b01b900460ff161561272f5760405162461bcd60e51b815260040161030e90614a74565b600654600160a81b900460ff16156127595760405162461bcd60e51b815260040161030e90614a24565b3332146127785760405162461bcd60e51b815260040161030e90614a94565b60075434101561279a5760405162461bcd60e51b815260040161030e90614af4565b6007543403156127d6576007546040513391340380156108fc02916000818181858888f193505050501580156127d4573d6000803e3d6000fd5b505b600754600a8054909101905560006127ee8333613536565b600e549091506001600160a01b038083169116141561281f5760405162461bcd60e51b815260040161030e90614b64565b6001600160a01b0381166000908152600f6020526040902054600114156128585760405162461bcd60e51b815260040161030e906149b4565b803b8061286457600080fd5b604080516060810182526001600160a01b038481168252600260208301908152600093830184905260118054600181018083559190955283517f31ecc21a745e3968a04e9570e4425bc18fa8019c68028196b546d1669c200c6890950180546001600160a01b0319169590931694909417808355905190829060ff60a01b1916600160a01b8360038111156128f557fe5b021790555060408201518154829060ff60a81b1916600160a81b83600381111561291b57fe5b02179055505050506001600160a01b0382166000908152600f6020526040908190206001905560115490517fc2757e945b24f03d1ce902d589f8c9e9ed42064f1713ecd7286d9f004e86c6cd916114f491859160001901906148e0565b6006546001600160a01b031681565b6040516331a9108f60e11b815260009030906001600160a01b03841690636352211e906129b8908790600401614b94565b60206040518083038186803b1580156129d057600080fd5b505afa1580156129e4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250612a0891908101906139f7565b6001600160a01b0316149392505050565b6001600160a01b0316600090815260026020526040902054151590565b6000546001600160a01b03163314612a605760405162461bcd60e51b815260040161030e90614ab4565b600955565b6006546001600160a01b031615612a96576006546040516001600160a01b0390911690611fd8906000903690614729565b6000546001600160a01b03163314612ac05760405162461bcd60e51b815260040161030e90614ab4565b60068054821515600160a81b0260ff60a81b1990911617905550565b303190565b60026020526000908152604090205481565b6000546001600160a01b03163314612b1d5760405162461bcd60e51b815260040161030e90614ab4565b600d55565b60138190556040517fef0cee5ab0ba082f9e7e2bec12702da8220ed5e3df2a40dfd209f30629dde00290612b57908390614b94565b60405180910390a150565b6006546001600160a01b031615612b93576006546040516001600160a01b0390911690611fd8906000903690614729565b6000546001600160a01b03163314612bbd5760405162461bcd60e51b815260040161030e90614ab4565b6001600160a01b03811660009081526002602052604090205415612bf35760405162461bcd60e51b815260040161030e90614ad4565b60015b6101008111612c28576000818152600360205260409020546001600160a01b0316612c2057612c28565b600101612bf6565b610100811115612c4a5760405162461bcd60e51b815260040161030e90614a04565b6001600160a01b0382166000818152600260209081526040808320859055938252600390529190912080546001600160a01b0319169091179055600180548101905550565b600654600160b01b900460ff1615612cb95760405162461bcd60e51b815260040161030e90614a74565b33600090815260026020526040902054612ce55760405162461bcd60e51b815260040161030e90614a34565b60015482511115612d085760405162461bcd60e51b815260040161030e90614a64565b600086868686604051602001612d21949392919061467e565b6040516020818303038152906040528051906020012090506000612d478286868661326a565b9050801561231f576001600160a01b03881686156108fc02878980158015612d6e57600080fd5b50806001603f1b11158015612d8257600080fd5b5080620f424010158015612d9557600080fd5b50604051600081818185878a8ad0945050505050158015612dba573d6000803e3d6000fd5b507fa4c8013c715e65688c1594615ba73e95285332eae47ec97a53f2814e25483c2f33888888604051612316949392919061483d565b6000546001600160a01b03163314612e1a5760405162461bcd60e51b815260040161030e90614ab4565b600b55565b6040516370a0823160e01b81526000906001600160a01b038316906370a0823190612e4e908590600401614767565b60206040518083038186803b158015612e6657600080fd5b505afa158015612e7a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506118c49190810190613cba565b6000546001600160a01b03163314612ec85760405162461bcd60e51b815260040161030e90614ab4565b6120628161361c565b600654600090600160b01b900460ff1615612efe5760405162461bcd60e51b815260040161030e90614a74565b600654600160a81b900460ff1615612f285760405162461bcd60e51b815260040161030e90614a24565b333214612f475760405162461bcd60e51b815260040161030e90614a94565b600854341015612f695760405162461bcd60e51b815260040161030e90614a54565b600854340315612fa5576008546040513391340380156108fc02916000818181858888f19350505050158015612fa3573d6000803e3d6000fd5b505b600854600a805490910190556001600160a01b0383166000908152600f6020526040902054600114612fe95760405162461bcd60e51b815260040161030e906149c4565b6040516323b872dd60e01b81526001600160a01b038416906323b872dd9061301990339030908790600401614775565b600060405180830381600087803b15801561303357600080fd5b505af1158015613047573d6000803e3d6000fd5b5050505060106040518060e00160405280336001600160a01b0316815260200160006001600160401b03168152602001600363ffffffff168152602001856001600160a01b0316815260200160006001600160401b03168152602001600063ffffffff168152602001848152509080600181540180825580915050906001820390600052602060002090600302016000909192909190915060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160000160146101000a8154816001600160401b0302191690836001600160401b03160217905550604082015181600001601c6101000a81548163ffffffff021916908363ffffffff16021790555060608201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060808201518160010160146101000a8154816001600160401b0302191690836001600160401b0316021790555060a082015181600101601c6101000a81548163ffffffff021916908363ffffffff16021790555060c082015181600201555050507fa5fce688ea5970750335282d77f1281ee4abb240deb7ce9f57378a87a7d3797a3384846001601080549050036040516118b394939291906147e0565b6000546001600160a01b031633146132555760405162461bcd60e51b815260040161030e90614ab4565b600c55565b600654600160a01b900460ff1681565b6000815183511461328d5760405162461bcd60e51b815260040161030e90614aa4565b600654600160a01b900460ff1615613406576000805b84518110156133f157600260008583815181106132bc57fe5b60200260200101516001600160a01b03166001600160a01b0316815260200190815260200160002054600014156133205760008482815181106132fb57fe5b60200260200101906001600160a01b031690816001600160a01b0316815250506133e9565b60008260016002600088868151811061333557fe5b60200260200101516001600160a01b03166001600160a01b0316815260200190815260200160002054036001901b16905080600014156133b8578260016002600088868151811061338257fe5b60200260200101516001600160a01b03166001600160a01b0316815260200190815260200160002054036001901b1792506133e7565b60008583815181106133c657fe5b60200260200101906001600160a01b031690816001600160a01b0316815250505b505b6001016132a3565b506133fe8686868661368a565b91505061352e565b60008481526005602090815260408083208884529091528120905b84518110156134e357600061345286838151811061343b57fe5b60200260200101518961375490919063ffffffff16565b6001600160a01b03811660009081526002602052604090205490915061347857506134db565b82546001600160a01b03821660009081526002602052604090205460016000199091011b16806134d85783546001600160a01b038316600090815260026020526040902054600160001990910181901b9091178555808501805490910190555b50505b600101613421565b506003600154600202816134f357fe5b04816001015411801561350b5750600281015460ff16155b1561352857600201805460ff19166001908117909155905061352e565b60009150505b949350505050565b60006060613543836137d6565b9050606061355185836137fa565b805160209091012095945050505050565b6001600160a01b03811660009081526004602090815260408083208054338552600290935290832054909160016000199092019190911b1680156135ab57600092505050611508565b815433600090815260026020819052604090912054600160001990910181901b90921784558184018054830190819055915460039102041080156135f45750600282015460ff16155b156136125750600201805460ff191660019081179091559050611508565b5060009392505050565b6001600160a01b03811661362f57600080fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000838152600560209081526040808320878452825280832081518481529092019081905282906009906136c390899088908890614925565b6020604051602081039080840390855afa1580156136e5573d6000803e3d6000fd5b5050506020604051035190506136fa8161382d565b826001018190555060036001546002028161371157fe5b0482600101541180156137295750600282015460ff16155b156137475750600201805460ff19166001908117909155905061352e565b5060009695505050505050565b60208101516040820151604183015160009260ff90911691601b83101561377c57601b830192505b6001868484846040516000815260200160405260405161379f9493929190614959565b6020604051602081039080840390855afa1580156137c1573d6000803e3d6000fd5b5050604051601f190151979650505050505050565b604080516001600160a01b0392909216600560a21b18601483015260348201905290565b604051606090613816908490604160f81b908590602001614736565b604051602081830303815290604052905092915050565b600080825b801561384a5760019190910190600019810116613832565b5092915050565b803561385c81614ce5565b61386581614c22565b9392505050565b805161385c81614ce5565b600082601f83011261388857600080fd5b813561389b61389682614bc8565b614ba2565b915081818352602084019350602081019050838560208402820111156138c057600080fd5b60005b838110156138ec57816138d68882613851565b84525060209283019291909101906001016138c3565b5050505092915050565b600082601f83011261390757600080fd5b813561391561389682614bc8565b81815260209384019390925082018360005b838110156138ec578135860161393d8882613974565b8452506020928301929190910190600101613927565b80356118c481614cf9565b80516118c481614cf9565b80356118c481614d02565b600082601f83011261398557600080fd5b813561399361389682614be8565b915080825260208301602083018583830111156139af57600080fd5b6139ba838284614c88565b50505092915050565b80516118c481614d02565b80356118c481614d0b565b6000602082840312156139eb57600080fd5b600061352e8484613851565b600060208284031215613a0957600080fd5b600061352e848461386c565b60008060008060008060c08789031215613a2e57600080fd5b6000613a3a8989613851565b9650506020613a4b89828a01613969565b9550506040613a5c89828a01613969565b9450506060613a6d89828a01613969565b93505060808701356001600160401b03811115613a8957600080fd5b613a9589828a016138f6565b92505060a08701356001600160401b03811115613ab157600080fd5b613abd89828a01613877565b9150509295509295509295565b600080600080600060a08688031215613ae257600080fd5b6000613aee8888613851565b9550506020613aff88828901613969565b9450506040613b1088828901613969565b93505060608601356001600160401b03811115613b2c57600080fd5b613b38888289016138f6565b92505060808601356001600160401b03811115613b5457600080fd5b613b6088828901613877565b9150509295509295909350565b60008060008060008060c08789031215613b8657600080fd5b6000613b928989613851565b9650506020613a4b89828a01613851565b60008060408385031215613bb657600080fd5b6000613bc28585613851565b9250506020613bd385828601613969565b9150509250929050565b60008060408385031215613bf057600080fd5b6000613bfc8585613851565b9250506020613bd3858286016139ce565b600060208284031215613c1f57600080fd5b600061352e8484613953565b600060208284031215613c3d57600080fd5b600061352e848461395e565b60008060408385031215613c5c57600080fd5b6000613bc28585613969565b600060208284031215613c7a57600080fd5b81356001600160401b03811115613c9057600080fd5b61352e84828501613974565b600060208284031215613cae57600080fd5b600061352e8484613969565b600060208284031215613ccc57600080fd5b600061352e84846139c3565b60008060408385031215613ceb57600080fd5b6000613cf78585613969565b9250506020613bd385828601613851565b60008060408385031215613d1b57600080fd5b6000613bfc85856139ce565b6000613d338383613d67565b505060200190565b60006138658383613ea8565b613d5081614c6c565b82525050565b613d50613d6282614c22565b614cc4565b613d5081614c22565b6000613d7b82614c15565b613d858185614c19565b9350613d9083614c0f565b8060005b83811015613dbe578151613da88882613d27565b9750613db383614c0f565b925050600101613d94565b509495945050505050565b6000613dd482614c15565b613dde8185614c19565b935083602082028501613df085614c0f565b8060005b85811015613e2a5784840389528151613e0d8582613d3b565b9450613e1883614c0f565b60209a909a0199925050600101613df4565b5091979650505050505050565b613d5081614c2d565b613d50613e4c82614c32565b614c3f565b613d5081614c3f565b6000613e668385611508565b9350613e73838584614c88565b50500190565b6000613e8482614c15565b613e8e8185611508565b9350613e9e818560208601614c94565b9290920192915050565b6000613eb382614c15565b613ebd8185614c19565b9350613ecd818560208601614c94565b613ed681614cd5565b9093019392505050565b6000613eed601a83614c19565b7f746869732061646472657373206973206e6f74206f7261636c65000000000000815260200192915050565b6000613f26601b83614c19565b7f6d73672e76616c7565206d757374203c3d2075696e7436344d61780000000000815260200192915050565b6000613f5f602083614c19565b7f76616c7565206d757374206265203e3d206465706f7369744d696e5472633230815260200192915050565b6000613f98601c83614c19565b7f746f6b656e56616c756520213d206d73672e746f6b656e76616c756500000000815260200192915050565b6000613fd1601383614c19565b721d1c98cc8c1059191c995cdcc81b585c1c1959606a1b815260200192915050565b6000614000601483614c19565b733737ba1030b71030b63637bbb2b2103a37b5b2b760611b815260200192915050565b6000614030602683614c19565b7f7769746864726177205452433230207369676e73206e756d203e206f7261636c8152656573206e756d60d01b602082015260400192915050565b6000614078602083614c19565b7f6d73672e746f6b656e76616c7565206d757374203c3d2075696e7436344d6178815260200192915050565b60006140b1602783614c19565b7f776974686472617720545243373231207369676e73206e756d203e206f7261638152666c6573206e756d60c81b602082015260400192915050565b60006140fa601083614c19565b6f37b930b1b63290373ab6901f10191a9b60811b815260200192915050565b6000614126602483614c19565b7f776974686472617720545258207369676e73206e756d203e206f7261636c6573815263206e756d60e01b602082015260400192915050565b600061416c600883614c19565b67697320706175736560c01b815260200192915050565b6000614190600a83614c19565b696e6f74206f7261636c6560b01b815260200192915050565b60006141b6601483614c19565b731d1c98cdcc8c5059191c995cdcc81b585c1c195960621b815260200192915050565b60006141e6601d83614c19565b7f6d73672e76616c7565206e65656420203e3d206465706f736974466565000000815260200192915050565b600061421f602683614c19565b7f7769746864726177205452433130207369676e73206e756d203e206f7261636c8152656573206e756d60d01b602082015260400192915050565b6000614267600783614c19565b66069732073746f760cc1b815260200192915050565b600061428a601d83614c19565b7f6d73672e746f6b656e6964206d757374203c3d2075696e7436344d6178000000815260200192915050565b60006142c3601283614c19565b711b9bdd08185b1b1bddc818dbdb9d1c9858dd60721b815260200192915050565b60006142f1602a83614c19565b7f6572726f72207369674c6973742e6c656e677468206f72207369676e4f7261638152690d8cae65cd8cadccee8d60b31b602082015260400192915050565b600061433d601383614c19565b7236b9b39739b2b73232b910109e9037bbb732b960691b815260200192915050565b600061436c601b83614c19565b7f6e6f7420616c6c6f772066756e6374696f6e2066616c6c6261636b0000000000815260200192915050565b60006143a5601e83614c19565b7f74686973206164647265737320697320616c7265616479206f7261636c650000815260200192915050565b60006143de601683614c19565b751d1bdad95b925908084f481b5cd9cb9d1bdad95b9a5960521b815260200192915050565b6000614410601a83614c19565b7f74726332304d617070696e67466565206e6f7420656e6f756768000000000000815260200192915050565b6000614449601e83614c19565b7f5f73756e546f6b656e41646472657373203d3d20616464726573732830290000815260200192915050565b6000614482601b83614c19565b7f6d73672e76616c7565206e65656420203e3d2072657472794665650000000000815260200192915050565b60006144bb601d83614c19565b7f6d617070696e674d73672e73746174757320213d205355434345535320000000815260200192915050565b60006144f4601f83614c19565b7f6e6f6e6365203e3d20757365724465706f7369744c6973742e6c656e67746800815260200192915050565b600061452d601e83614c19565b7f76616c7565206d757374206265203e3d206465706f7369744d696e5472780000815260200192915050565b6000614566601f83614c19565b7f6e6f6e6365203e3d20757365724d617070696e674c6973742e6c656e67746800815260200192915050565b600061459f602383614c19565b7f6d61696e436861696e41646472657373203d3d2073756e546f6b656e4164647281526265737360e81b602082015260400192915050565b60006145e4601b83614c19565b7f7472633732314d617070696e67466565206e6f7420656e6f7567680000000000815260200192915050565b600061461d602583614c19565b7f746f6b656e76616c7565206d757374206265203e3d206465706f7369744d696e815264054726331360dc1b602082015260400192915050565b613d50613e4c82614c3f565b613d5081614c7d565b613d5081614c5a565b613d5081614c66565b600061468a8287613d56565b60148201915061469a8286614657565b6020820191506146aa8285614657565b6020820191506146ba8284614657565b50602001949350505050565b60006146d28286613d56565b6014820191506146e28285614657565b6020820191506146f28284614657565b506020019392505050565b60006147098287613d56565b6014820191506147198286613d56565b6014820191506146aa8285614657565b600061352e828486613e5a565b60006147428286613e79565b915061474e8285613e40565b60018201915061475e8284613e79565b95945050505050565b602081016118c48284613d67565b606081016147838286613d47565b6147906020830185613d47565b61352e6040830184613e51565b606081016147ab8286613d47565b6147b86020830185613d47565b61352e6040830184614663565b606081016147d38286613d47565b6147906020830185613d67565b608081016147ee8287613d47565b6147fb6020830186613d67565b6148086040830185613e51565b61475e6060830184613e51565b608081016148238287613d47565b6148306020830186613d67565b614808604083018561466c565b6080810161484b8287613d47565b6147fb6020830186613e51565b606081016148668286613d47565b6147906020830185613e51565b606081016148818286613d47565b614790602083018561466c565b6080810161489c8287613d47565b614830602083018661466c565b604081016148b78285613d67565b6138656020830184613d67565b608081016147ee8287613d67565b608081016148238287613d67565b604081016148ee8285613d67565b6138656020830184613e51565b606081016148818286613d67565b6080810161489c8287613d67565b602081016118c48284613e37565b606081016149338286613e51565b81810360208301526149458185613dc9565b9050818103604083015261475e8184613d70565b608081016149678287613e51565b6147fb6020830186614675565b602080825281016118c481613ee0565b602080825281016118c481613f19565b602080825281016118c481613f52565b602080825281016118c481613f8b565b602080825281016118c481613fc4565b602080825281016118c481613ff3565b602080825281016118c481614023565b602080825281016118c48161406b565b602080825281016118c4816140a4565b602080825281016118c4816140ed565b602080825281016118c481614119565b602080825281016118c48161415f565b602080825281016118c481614183565b602080825281016118c4816141a9565b602080825281016118c4816141d9565b602080825281016118c481614212565b602080825281016118c48161425a565b602080825281016118c48161427d565b602080825281016118c4816142b6565b602080825281016118c4816142e4565b602080825281016118c481614330565b602080825281016118c48161435f565b602080825281016118c481614398565b602080825281016118c4816143d1565b602080825281016118c481614403565b602080825281016118c48161443c565b602080825281016118c481614475565b602080825281016118c4816144ae565b602080825281016118c4816144e7565b602080825281016118c481614520565b602080825281016118c481614559565b602080825281016118c481614592565b602080825281016118c4816145d7565b602080825281016118c481614610565b602081016118c48284613e51565b6040518181016001600160401b0381118282101715614bc057600080fd5b604052919050565b60006001600160401b03821115614bde57600080fd5b5060209081020190565b60006001600160401b03821115614bfe57600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006118c482614c42565b151590565b6001600160f81b03191690565b90565b6001600160a01b031690565b6001600160a81b031690565b6001600160401b031690565b60ff1690565b60006118c48260006118c482614c22565b60006118c482614c5a565b82818337506000910152565b60005b83811015614caf578181015183820152602001614c97565b83811115614cbe576000848401525b50505050565b60006118c48260006118c482614cdf565b601f01601f191690565b60601b90565b614cee81614c4e565b811461206257600080fd5b614cee81614c2d565b614cee81614c3f565b614cee81614c5a56fea36474726f6e582079dc72d9c579c21ed93ad934e9652a6b6889da62fdf73f5924f41264af70e3306c6578706572696d656e74616cf564736f6c637827302e352e392d646576656c6f702e323031392e382e32312b636f6d6d69742e31393035643732660064";
    String abi = "[{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSigns\",\"type\":\"bytes[]\"},{\"name\":\"signOracles\",\"type\":\"address[]\"}],\"name\":\"withdrawTRX\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"stop\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_sunTokenAddress\",\"type\":\"address\"}],\"name\":\"setSunTokenAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"tokenId\",\"type\":\"uint64\"},{\"name\":\"tokenValue\",\"type\":\"uint64\"}],\"name\":\"depositTRC10\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"mappingFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"depositMinTrc20\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"txId\",\"type\":\"bytes\"}],\"name\":\"mappingTRC721\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"contractAddress\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint64\"}],\"name\":\"depositTRC20\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"retryDeposit\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"mainToSideContractMap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"setDepositFee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"depositTRX\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"retryFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"it\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"tokenId\",\"type\":\"trcToken\"}],\"name\":\"getTRC10\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newAddress\",\"type\":\"address\"}],\"name\":\"setDelegateAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"status\",\"type\":\"bool\"}],\"name\":\"setStop\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"depositFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"sunTokenAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"status\",\"type\":\"bool\"}],\"name\":\"setMultivalidatesignSwitch\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"bonus\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"dataHash\",\"type\":\"bytes32\"},{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"withdrawDone\",\"outputs\":[{\"name\":\"r\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_oracle\",\"type\":\"address\"}],\"name\":\"delOracle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"contractAddress\",\"type\":\"address\"},{\"name\":\"uid\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSigns\",\"type\":\"bytes[]\"},{\"name\":\"signOracles\",\"type\":\"address[]\"}],\"name\":\"withdrawTRC721\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"indexOracle\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"pause\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"contractAddress\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSigns\",\"type\":\"bytes[]\"},{\"name\":\"signOracles\",\"type\":\"address[]\"}],\"name\":\"withdrawTRC20\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"numOracles\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"depositMinTrx\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"retryMapping\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"depositMinTrc10\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"setMappingFee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"txId\",\"type\":\"bytes\"}],\"name\":\"mappingTRC20\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"logicAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"uid\",\"type\":\"uint256\"},{\"name\":\"contractAddress\",\"type\":\"address\"}],\"name\":\"getNFT\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_oracle\",\"type\":\"address\"}],\"name\":\"isOracle\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"setRetryFee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"status\",\"type\":\"bool\"}],\"name\":\"setPause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getTRX\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"oracleIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"minValue\",\"type\":\"uint256\"}],\"name\":\"setDepositMinTrc20\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"setIt\",\"type\":\"uint256\"}],\"name\":\"setIt\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_oracle\",\"type\":\"address\"}],\"name\":\"addOracle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"nonce\",\"type\":\"uint256\"},{\"name\":\"oracleSigns\",\"type\":\"bytes[]\"},{\"name\":\"signOracles\",\"type\":\"address[]\"}],\"name\":\"withdrawTRC10\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"minValue\",\"type\":\"uint256\"}],\"name\":\"setDepositMinTrx\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"contractAddress\",\"type\":\"address\"}],\"name\":\"getTRC20\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"contractAddress\",\"type\":\"address\"},{\"name\":\"uid\",\"type\":\"uint256\"}],\"name\":\"depositTRC721\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"minValue\",\"type\":\"uint256\"}],\"name\":\"setDepositMinTrc10\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"multivalidatesignSwitch\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint64\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRXReceived\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenId\",\"type\":\"uint64\"},{\"indexed\":false,\"name\":\"tokenValue\",\"type\":\"uint64\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRC10Received\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint64\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRC20Received\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"uid\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRC721Received\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRC20Mapping\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRC721Mapping\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRXWithdraw\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenId\",\"type\":\"trcToken\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRC10Withdraw\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRC20Withdraw\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"uid\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"TRC721Withdraw\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"it\",\"type\":\"uint256\"}],\"name\":\"ea\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"NewOracles\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"oldAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"newAddress\",\"type\":\"address\"}],\"name\":\"LogicAddressChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}]\n";
    byte[] contractAddress = PublicMethed.deployContractForMain(contractName, abi, code, "",
        maxFeeLimit, 0L, 0, 10000,
        "0", 0, null, gateWatOwnerAddressKey,
        gateWatOwnerAddress, blockingStubFull);
    PublicMethed.waitProduceNextBlock(blockingStubFull);
    PublicMethed.waitProduceNextBlock(blockingStubFull);

    String parameN = "\"" + Base58.encode58Check(testOracleAddress) + "\"";

    byte[] inputN = Hex.decode(AbiUtil.parseMethod("oracleIndex(address)", parameN, false));
    TransactionExtention return2 = PublicMethed
        .triggerContractForTransactionExtention(
            WalletClient.decodeFromBase58Check(mainGateWayAddress), 0l, inputN, 1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingStubFull);
    int oracleIndexResult = ByteArray.toInt(return2.getConstantResult(0).toByteArray());
    Assert.assertTrue(oracleIndexResult == 1);

    String parame2 = "\"" + Base58.encode58Check(contractAddress) + "\"";

    input1 = Hex.decode(AbiUtil.parseMethod("setDelegateAddress(address)", parame2, false));
    String ownerTrx1 = PublicMethed
        .triggerContract(WalletClient.decodeFromBase58Check(mainGateWayAddress), 0l, input1,
            1000000000,
            0l, "0", testOracleAddress, testOracle, blockingStubFull);
    PublicMethed.waitProduceNextBlock(blockingStubFull);
    PublicMethed.waitProduceNextBlock(blockingStubFull);

    Optional<TransactionInfo> infoOwnerTrx1 = PublicMethed
        .getTransactionInfoById(ownerTrx1, blockingStubFull);
    Assert.assertEquals(0, infoOwnerTrx1.get().getResultValue());

    input1 = Hex.decode(AbiUtil.parseMethod("logicAddress()", "", false));
    return1 = PublicMethed
        .triggerContractForTransactionExtention(
            WalletClient.decodeFromBase58Check(mainGateWayAddress), 0l, input1, 1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingStubFull);

    String ContractRestule1 = Hex.toHexString(return1.getConstantResult(0).toByteArray());

    String tmpAddress1 = ContractRestule1.substring(24);
    logger.info(tmpAddress1);
    String addressHex1 = "41" + tmpAddress1;
    logger.info("address_hex1: " + addressHex1);
    String addressFinal1 = Base58.encode58Check(ByteArray.fromHexString(addressHex1));
    logger.info("address_final1: " + addressFinal1);

    byte[] sideContractAddress1 = WalletClient.decodeFromBase58Check(addressFinal1);
    Assert.assertNotNull(sideContractAddress1);
    Assert.assertEquals(Base58.encode58Check(contractAddress), addressFinal1);

    TransactionExtention return3 = PublicMethed
        .triggerContractForTransactionExtention(
            WalletClient.decodeFromBase58Check(mainGateWayAddress), 0l, input2, 1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingStubFull);
    MinTrx = ByteArray.toLong(ByteArray
        .fromHexString(Hex.toHexString(return3.getConstantResult(0).toByteArray())));
    Assert.assertEquals(MinTrx, Long.valueOf(parame1));

    String methodStr3 = "setIt(uint256)";
    String parame4 = "3";
    byte[] input5 = Hex.decode(AbiUtil.parseMethod(methodStr3, parame4, false));

    String txid2 = PublicMethed
        .triggerContract(WalletClient.decodeFromBase58Check(mainGateWayAddress),
            0,
            input5,
            maxFeeLimit, 0, "", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingStubFull);
    logger.info("ownerTrx : " + txid2);
    PublicMethed.waitProduceNextBlock(blockingStubFull);
    PublicMethed.waitProduceNextBlock(blockingStubFull);

    Optional<TransactionInfo> infoById3 = PublicMethed
        .getTransactionInfoById(txid2, blockingStubFull);
    Assert.assertEquals(0, infoById3.get().getResultValue());

    List<String> retList = PublicMethedForDailybuild
        .getStrings(infoById3.get().getLogList().get(0).getData().toByteArray());
    Long actualSalt = ByteArray.toLong(ByteArray.fromHexString(retList.get(0)));
    Assert.assertTrue(Long.valueOf(parame4) == actualSalt);

    return2 = PublicMethed
        .triggerContractForTransactionExtention(
            WalletClient.decodeFromBase58Check(mainGateWayAddress), 0l, inputN, 1000000000,
            0l, "0", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingStubFull);
    int oracleIndexResultAfter = ByteArray.toInt(return2.getConstantResult(0).toByteArray());
    Assert.assertTrue(oracleIndexResult == oracleIndexResultAfter);

  }


  /**
   * constructor.
   */
  @AfterClass
  public void shutdown() throws InterruptedException {

    methodStr1 = "setDepositMinTrx(uint256)";
    parame1 = "0";
    byte[] input1 = Hex.decode(AbiUtil.parseMethod(methodStr1, parame1, false));

    String txid1 = PublicMethed
        .triggerContract(WalletClient.decodeFromBase58Check(mainGateWayAddress),
            0,
            input1,
            maxFeeLimit, 0, "", gateWatOwnerAddress, gateWatOwnerAddressKey, blockingStubFull);
    if (channelFull != null) {
      channelFull.shutdown().awaitTermination(5, TimeUnit.SECONDS);
    }
    if (channelFull1 != null) {
      channelFull1.shutdown().awaitTermination(5, TimeUnit.SECONDS);
    }
  }

}
